<!DOCTYPE html>
<html lang="en">
<head>
  <!-- PWA Manifest & Theming -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#00fff9">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="icon" href="assets/Favicon and Icons/favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="assets/Favicon and Icons/favicon.ico" type="image/x-icon" />
  <link rel="icon" type="image/png" href="assets/Favicon and Icons/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="assets/Favicon and Icons/favicon.svg" />
  <link rel="apple-touch-icon" sizes="180x180" href="assets/Favicon and Icons/apple-touch-icon.png" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Support - GlitchRealm</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600&display=swap" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600&display=swap" rel="stylesheet"></noscript>
  <style>
    .support-hero { padding:70px 0 30px; text-align:center; position:relative; }
    .support-hero h1 { font-family:'Orbitron', monospace; font-size:2.4rem; background:linear-gradient(90deg,#00fff9,#008cff); -webkit-background-clip:text; background-clip:text; color:transparent; letter-spacing:2px; }
    .support-grid { display:grid; gap:20px; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); margin:40px 0; }
    .support-card { background:linear-gradient(135deg,rgba(11,24,34,0.95),rgba(7,16,23,0.98)); border:1px solid rgba(0,255,249,0.2); padding:24px 24px 26px; border-radius:16px; position:relative; overflow:hidden; transition:all 0.3s ease; box-shadow:0 4px 20px rgba(0,0,0,0.3); }
    .support-card:hover { border-color:rgba(0,255,249,0.4); transform:translateY(-2px); box-shadow:0 8px 30px rgba(0,255,249,0.15), 0 0 40px rgba(0,255,249,0.08); }
    .support-card:before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 20% 25%,rgba(0,255,249,0.15),transparent 55%),radial-gradient(circle at 80% 75%,rgba(0,140,255,0.12),transparent 60%); mix-blend-mode:screen; pointer-events:none; opacity:0.7; transition:opacity 0.3s ease; }
    .support-card:hover:before { opacity:1; }
    .support-card h3 { margin:0 0 10px; font-size:1.15rem; font-weight:700; letter-spacing:.8px; color:#00f5ff; font-family:'Orbitron', monospace; text-transform:uppercase; }
    .support-card p { margin:0 0 16px; font-size:.88rem; line-height:1.5; color:#b8d4d8; opacity:0.9; }
  .contact-chip { display:inline-flex; align-items:center; gap:6px; padding:8px 14px; border:1px solid rgba(0,255,249,0.3); border-radius:20px; font-size:.72rem; letter-spacing:.6px; text-transform:uppercase; color:#00fff9; background:rgba(0,255,249,0.08); margin:4px 6px 4px 0; font-weight:600; cursor:pointer; text-decoration:none; position:relative; transition:all .22s ease; }
  .contact-chip:hover, .contact-chip:focus { background:rgba(0,255,249,0.2); border-color:rgba(0,255,249,0.6); color:#00fff9; outline:none; transform:translateY(-1px); box-shadow:0 4px 12px rgba(0,255,249,0.25); }
  .contact-chip:active { transform:translateY(0); }
  .help-section-divider { margin:60px 0 30px; height:1px; background:linear-gradient(90deg,rgba(0,255,249,0),rgba(0,255,249,.35),rgba(0,255,249,0)); border:none; }
  .help-top-link { font-size:.65rem; letter-spacing:.5px; text-transform:uppercase; color:#00f5ff; text-decoration:none; display:inline-block; margin-top:14px; opacity:.8; }
  .help-top-link:hover { opacity:1; text-decoration:underline; }
  .issue-detail { padding:22px 24px 26px; border:1px solid rgba(0,255,249,0.18); border-radius:14px; background:linear-gradient(135deg,#07141c,#041017); margin:0 0 26px; position:relative; }
  .issue-detail h3 { margin:0 0 10px; font-size:1.05rem; letter-spacing:.6px; color:#00f5ff; }
  .issue-detail h4 { margin:18px 0 6px; font-size:.85rem; letter-spacing:.5px; color:#fff; text-transform:uppercase; }
  .issue-detail p, .issue-detail li { font-size:.82rem; line-height:1.45; color:#c3d2d6; }
  .issue-detail code { background:rgba(0,255,249,0.1); padding:2px 5px; border-radius:4px; font-size:.75rem; }
  .issue-detail ul { margin:6px 0 0 18px; padding:0; }
  .issue-detail .tag-ref { font-size:.65rem; padding:3px 6px; background:rgba(0,255,249,0.12); border:1px solid rgba(0,255,249,0.3); border-radius:20px; letter-spacing:.5px; margin-left:6px; }
  .issue-target-highlight { box-shadow:0 0 0 2px rgba(0,255,249,0.4), 0 0 14px -2px rgba(0,255,249,0.7); transition: box-shadow 1.8s ease; }
    .support-section { margin:50px 0; }
    .support-section h2 { font-size:1.4rem; letter-spacing:1px; margin:0 0 14px; color:#00f5ff; }
    .faq-item { margin:14px 0; }
    .faq-item h4 { margin:0 0 4px; font-size:.95rem; color:#fff; }
    .faq-item p { margin:0; font-size:.85rem; line-height:1.4; color:#b8c5c9; }
    .bot-note { margin-top:28px; font-size:.8rem; opacity:.75; }
    .bmc-inline-note { font-size:.75rem; opacity:.65; margin-top:6px; }
    /* Category sections - hidden by default */
    .category-section { display:none; }
    .category-section.active { display:block; animation:fadeIn 0.3s ease; }
    /* General content - hidden by default, shown only on main screen */
    #general-content { display:none; }
    @keyframes fadeIn { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }
    /* Back button */
    .back-to-categories { display:inline-flex; align-items:center; gap:8px; padding:10px 18px; background:rgba(0,255,249,0.1); border:1px solid rgba(0,255,249,0.3); border-radius:24px; color:#00fff9; font-size:.85rem; font-weight:600; letter-spacing:.6px; text-transform:uppercase; text-decoration:none; margin-bottom:24px; transition:all .25s ease; cursor:pointer; }
    .back-to-categories:hover { background:rgba(0,255,249,0.2); border-color:rgba(0,255,249,0.5); transform:translateX(-3px); }
    .back-to-categories::before { content:'‚Üê'; font-size:1.1rem; }
    /* Support form modal */
    .support-form-modal { position:fixed; inset:0; display:none; z-index:4000; }
    .support-form-modal.visible .support-form-dialog { transform:translateY(0); opacity:1; }
    .support-form-backdrop { position:absolute; inset:0; background:rgba(0,0,0,0.6); backdrop-filter:blur(4px); }
    .support-form-dialog { position:relative; width:100%; max-width:560px; margin:60px auto; background:#0b1822; border:1px solid rgba(0,255,249,0.25); border-radius:16px; padding:28px 30px 30px; box-shadow:0 10px 40px -8px rgba(0,0,0,.55),0 0 0 1px rgba(0,255,249,0.08); transform:translateY(12px); opacity:0; transition:.25s ease; font-size:.9rem; }
    .support-form-close { position:absolute; top:10px; right:12px; background:none; border:none; color:#9fb3b9; font-size:1.6rem; line-height:1; cursor:pointer; padding:4px 8px; }
    .support-form-close:hover { color:#fff; }
    .support-form h3 { margin:0 0 14px; font-size:1.2rem; letter-spacing:.5px; color:#00f5ff; }
    .support-form .sf-field { display:flex; flex-direction:column; margin:0 0 14px; gap:6px; }
    .support-form .sf-field span { font-size:.7rem; letter-spacing:.6px; font-weight:600; text-transform:uppercase; color:#7edcf0; }
    .support-form input, .support-form select, .support-form textarea { background:#08131b; border:1px solid #12313d; border-radius:8px; padding:10px 12px; color:#d7e5e8; font-family:inherit; font-size:.85rem; resize:vertical; }
    .support-form input:focus, .support-form select:focus, .support-form textarea:focus { outline:2px solid #00e3ff; outline-offset:2px; }
    .support-form .sf-actions { display:flex; gap:12px; margin-top:4px; }
    .support-form .sf-note { font-size:.65rem; opacity:.6; margin-top:12px; }
    @media (max-width:620px){ .support-form-dialog { margin:30px 14px; padding:24px 22px 26px; } }
  </style>
  <!-- Unified Firebase core (loads app+auth once, sets local persistence) -->
  <script type="module" src="firebase-core.js"></script>
</head>
<body>
  <div class="background-animation"></div>
  <div id="header-placeholder"></div>
  <main class="main">
    <section class="support-hero">
      <div class="container">
        <h1>Support / Help Center</h1>
        <p style="max-width:620px;margin:14px auto 0; font-size:1rem; color:#d4dde0;">Need help with your account, games, or platform features? Choose a category below to get started.</p>
        
        <!-- System Status -->
        <div id="system-status" style="max-width:620px; margin:20px auto 0; padding:14px 18px; background:linear-gradient(135deg,rgba(11,24,34,0.9),rgba(7,16,23,0.95)); border:1px solid rgba(0,255,249,0.2); border-radius:12px; display:flex; align-items:center; gap:12px;">
          <div id="status-indicator" style="width:10px; height:10px; border-radius:50%; background:#00ff00; box-shadow:0 0 10px #00ff00;"></div>
          <div style="flex:1;">
            <div style="display:flex; align-items:center; gap:8px;">
              <span style="font-weight:700; font-size:.9rem; color:#fff;">System Status: <span id="status-text">All Systems Operational</span></span>
              <button id="status-info-btn" style="display:none; background:none; border:1px solid rgba(0,255,249,0.4); border-radius:50%; width:20px; height:20px; color:#00fff9; font-size:.7rem; cursor:pointer; padding:0; line-height:1;">i</button>
            </div>
            <div id="status-description" style="display:none; margin-top:8px; font-size:.8rem; line-height:1.4; color:#b8d4d8; padding-top:8px; border-top:1px solid rgba(0,255,249,0.15);"></div>
          </div>
        </div>
      </div>
    </section>

    <section class="container">
      <div class="support-grid" id="category-cards">
        <a href="#category-account" class="support-card" style="text-decoration:none; color:inherit;" data-category="account">
          <h3>Account</h3>
          <p>Password resets, email issues, and verification requests.</p>
        </a>
        <a href="#category-platform" class="support-card" style="text-decoration:none; color:inherit;" data-category="platform">
          <h3>Games & Platform</h3>
            <p>Game performance, browser issues, and progress tracking help.</p>
        </a>
        <a href="#category-developers" class="support-card" style="text-decoration:none; color:inherit;" data-category="developers">
          <h3>Developers</h3>
          <p>Submitting games, asset guidelines, and publishing requirements.</p>
        </a>
        <a href="#category-community" class="support-card" style="text-decoration:none; color:inherit;" data-category="community">
          <h3>Community</h3>
          <p>Guidelines, moderation, and community engagement.</p>
        </a>
        <a href="#category-contact" class="support-card" style="text-decoration:none; color:inherit;" data-category="contact">
          <h3>Contact</h3>
          <p>Reach the team directly for reports, legal, or security matters.</p>
        </a>
      </div>

      <!-- ACCOUNT CATEGORY -->
      <div id="category-account" class="category-section">
        <button class="back-to-categories">Back to Categories</button>
        <hr class="help-section-divider" style="margin-top:0;" />
        <div style="margin-bottom:24px; display:flex; flex-wrap:wrap; gap:8px;">
          <a class="contact-chip" href="#help-reset-password">Reset Password</a>
          <a class="contact-chip" href="#help-change-email">Change Email</a>
          <a class="contact-chip" href="#help-verification">Verification</a>
          <a class="contact-chip" href="#help-avatar">Avatar</a>
          <a class="contact-chip" href="#help-privacy">Privacy</a>
          <a class="contact-chip" href="#help-security">Security</a>
        </div>
        <div class="support-section">
          <h2 style="font-size:1.8rem; margin-bottom:20px;">Account Support</h2>

        <div id="help-reset-password" class="issue-detail" data-issue="reset-password">
          <h3>Reset Password <span class="tag-ref">ACCOUNT</span></h3>
          <p>If you forgot your password, use <strong>Forgot Password</strong> on the sign-in page. You'll receive an email with a link.</p>
          <h4>Quick Steps</h4>
          <ul>
            <li>Open the sign in page &gt; Forgot Password.</li>
            <li>Enter the email tied to your GlitchRealm account.</li>
            <li>Click the link in the email within 15 minutes.</li>
          </ul>
          <h4>If Email Doesn't Arrive</h4>
            <ul>
              <li>Check spam / promotions folders.</li>
              <li>Make sure you didn't sign up with a different email alias.</li>
              <li>Wait 2‚Äì3 minutes; some providers delay new senders.</li>
            </ul>
          <h4>Link Says Expired</h4>
          <p>Request a new reset. Only the most recent link works.</p>
          <a class="help-top-link" href="#category-account">Back to Account</a>
        </div>

        <div id="help-change-email" class="issue-detail" data-issue="change-email">
          <h3>Change Email <span class="tag-ref">ACCOUNT</span></h3>
          <p>In the User Portal, open <strong>Account Settings</strong> and use the Change Email form. You'll need to re-authenticate for security.</p>
          <h4>Checklist</h4>
          <ul>
            <li>New email isn't already used on another account.</li>
            <li>You are still signed in (token not expired).</li>
            <li>Confirm any verification mail if required.</li>
          </ul>
          <h4>Common Errors</h4>
          <ul>
            <li><code>requires-recent-login</code>: Sign out & sign in again, then retry.</li>
            <li><code>email-already-in-use</code>: That address already exists‚Äîuse password reset instead.</li>
          </ul>
          <a class="help-top-link" href="#category-account">Back to Account</a>
        </div>

        <div id="help-verification" class="issue-detail" data-issue="verification">
          <h3>Verification <span class="tag-ref">ACCOUNT</span></h3>
          <p>Verification unlocks creator / submission features and a badge. Use the Verification form in the User Portal.</p>
          <h4>Tips</h4>
          <ul>
            <li>Add a short description of what you build.</li>
            <li>Provide links (GitHub, itch.io) if available.</li>
            <li>Submissions are usually reviewed within 24‚Äì72h.</li>
          </ul>
          <a class="help-top-link" href="#category-account">Back to Account</a>
        </div>

        <div id="help-avatar" class="issue-detail" data-issue="avatar">
          <h3>Profile Avatars <span class="tag-ref">ACCOUNT</span></h3>
          <p>Upload or change your profile avatar from the User Portal. Avatars are stored securely in Supabase.</p>
          <h4>Upload Requirements</h4>
          <ul>
            <li>Image formats: JPG, PNG, GIF (no animated GIFs).</li>
            <li>Max file size: 2MB.</li>
            <li>Recommended: 256√ó256 or larger square images.</li>
            <li>Content must be appropriate (no NSFW, offensive, or copyrighted material).</li>
          </ul>
          <h4>Troubleshooting Upload Issues</h4>
          <ul>
            <li>If upload fails, check file size and format.</li>
            <li>Try a different browser if issues persist.</li>
            <li>Clear cache and cookies, then retry.</li>
            <li>Contact support if you see storage quota errors.</li>
          </ul>
          <a class="help-top-link" href="#category-account">Back to Account</a>
        </div>

        <div id="help-privacy" class="issue-detail" data-issue="privacy">
          <h3>Privacy & Data <span class="tag-ref">ACCOUNT</span></h3>
          <p>We take your privacy seriously. See our full <a href="privacy-policy.html" style="color:#00f5ff;">Privacy Policy</a> for details.</p>
          <h4>What Data We Collect</h4>
          <ul>
            <li>Account info: Email, display name, verification status.</li>
            <li>Playtime data: Per-game session tracking (local + cloud sync).</li>
            <li>Analytics: Page visits, feature usage (anonymized where possible).</li>
            <li>Uploads: Avatar images, game cover art (if you're a developer).</li>
          </ul>
          <h4>Your Rights</h4>
          <ul>
            <li><strong>Access:</strong> Request a copy of your data via support@glitchrealm.ca.</li>
            <li><strong>Deletion:</strong> Use the Delete Account feature in User Portal.</li>
            <li><strong>Correction:</strong> Update profile info directly in User Portal.</li>
            <li><strong>Opt-out:</strong> Disable analytics tracking in browser settings.</li>
          </ul>
          <h4>Third-Party Services</h4>
          <p>We use Firebase (Google), Supabase, and DoAI chatbot. Each follows their own privacy policies.</p>
          <a class="help-top-link" href="#category-account">Back to Account</a>
        </div>

        <div id="help-security" class="issue-detail" data-issue="security">
          <h3>Account Security <span class="tag-ref">ACCOUNT</span></h3>
          <p>Keep your account safe with these best practices.</p>
          <h4>Strong Passwords</h4>
          <ul>
            <li>Use at least 12 characters with mixed case, numbers, symbols.</li>
            <li>Don't reuse passwords from other sites.</li>
            <li>Consider a password manager (1Password, Bitwarden, etc.).</li>
          </ul>
          <h4>Two-Factor Authentication</h4>
          <p>Firebase supports 2FA. Enable it in your Google account settings if you signed up via Google.</p>
          <h4>Suspicious Activity</h4>
          <ul>
            <li>Unexpected password reset emails? Someone may be trying to access your account.</li>
            <li>Change password immediately and contact security@glitchrealm.ca.</li>
            <li>Check recent sign-in activity in Firebase console if suspicious.</li>
          </ul>
          <h4>Phishing Protection</h4>
          <ul>
            <li>Always verify URL is <code>glitchrealm.ca</code> (not glitch-realm, glitchrealms, etc.).</li>
            <li>We'll never ask for your password via email or chatbot.</li>
            <li>Report suspicious emails to security@glitchrealm.ca.</li>
          </ul>
          <a class="help-top-link" href="#category-account">Back to Account</a>
        </div>
        </div>
      </div>

      <!-- GAMES & PLATFORM CATEGORY -->
      <div id="category-platform" class="category-section">
        <button class="back-to-categories">Back to Categories</button>
        <hr class="help-section-divider" style="margin-top:0;" />
        <div style="margin-bottom:24px; display:flex; flex-wrap:wrap; gap:8px;">
          <a class="contact-chip" href="#help-playtime">Playtime Tracking</a>
          <a class="contact-chip" href="#help-cloud-save">Cloud Save</a>
          <a class="contact-chip" href="#help-performance">Performance</a>
          <a class="contact-chip" href="#help-notifications">Notifications</a>
          <a class="contact-chip" href="#help-mobile">Mobile</a>
          <a class="contact-chip" href="#help-keyboard-shortcuts">Shortcuts</a>
          <a class="contact-chip" href="#help-game-controllers">Controllers</a>
        </div>
        <div class="support-section">
        <h2 style="font-size:1.8rem; margin-bottom:20px;">Games & Platform Support</h2>

        <div id="help-playtime" class="issue-detail" data-issue="playtime">
          <h3>Playtime Not Updating <span class="tag-ref">PLATFORM</span></h3>
          <p>Playtime is tracked client-side and periodically synced to Firestore.</p>
          <h4>Quick Fix</h4>
          <ul>
            <li>Keep the game tab focused at least once every 60s.</li>
            <li>Stay signed in (the tracker pauses if auth token expires).</li>
            <li>Don't block <code>localStorage</code> or script execution.</li>
          </ul>
          <h4>Advanced Troubleshooting</h4>
          <ul>
            <li>Open DevTools Console; check for Firebase permission errors.</li>
            <li>Clear site data (localStorage key: <code>gr.playtime.*</code>) if corrupt.</li>
            <li>Multiple tabs: only the most active tab should accumulate time.</li>
          </ul>
          <a class="help-top-link" href="#category-platform">Back to Platform</a>
        </div>

        <div id="help-cloud-save" class="issue-detail" data-issue="cloud-save">
          <h3>Cloud Save Issues <span class="tag-ref">PLATFORM</span></h3>
          <p>If a game supports saves, they sync using Firestore or Supabase depending on the title.</p>
          <h4>Fixes</h4>
          <ul>
            <li>Ensure network isn't blocking <code>firestore.googleapis.com</code>.</li>
            <li>Disable aggressive privacy extensions temporarily.</li>
            <li>Confirm you're signed into the same account across devices.</li>
          </ul>
          <a class="help-top-link" href="#category-platform">Back to Platform</a>
        </div>

        <div id="help-performance" class="issue-detail" data-issue="performance">
          <h3>Performance / Low FPS <span class="tag-ref">PLATFORM</span></h3>
          <p>Performance depends on browser GPU acceleration and asset caching.</p>
          <h4>Quick Wins</h4>
          <ul>
            <li>Close other heavy tabs (video streaming, WebGL sites).</li>
            <li>Use Chromium-based browser with hardware acceleration on.</li>
            <li>Disable unnecessary overlays (recorders, extensions).</li>
          </ul>
          <h4>Advanced</h4>
          <ul>
            <li>Open DevTools Performance panel to spot layout thrash.</li>
            <li>Clear cache if assets changed recently (Shift + Reload).</li>
          </ul>
          <a class="help-top-link" href="#category-platform">Back to Platform</a>
        </div>

        <div id="help-notifications" class="issue-detail" data-issue="notifications">
          <h3>Notifications <span class="tag-ref">PLATFORM</span> <span style="background:rgba(255,191,0,0.15); border:1px solid rgba(255,191,0,0.4); color:#ffbf00; padding:2px 8px; border-radius:12px; font-size:.65rem; font-weight:700; letter-spacing:.8px; margin-left:8px;">COMING SOON</span></h3>
          <p>Browser notifications for new games, updates, and community events are currently in development.</p>
          <h4>Planned Features</h4>
          <ul>
            <li>New game releases in genres you play.</li>
            <li>Platform updates and maintenance notices.</li>
            <li>Community event announcements.</li>
            <li>Developer updates for games you follow.</li>
            <li>Playtime milestones and achievements.</li>
          </ul>
          <h4>When Available</h4>
          <p>When notifications launch, you'll be prompted to enable them on your first visit. You can also enable them manually via browser settings &gt; Site Permissions &gt; Notifications for glitchrealm.ca.</p>
          <h4>Privacy First</h4>
          <ul>
            <li>Opt-in only ‚Äì we'll never enable without your permission.</li>
            <li>Easy opt-out anytime via browser settings.</li>
            <li>Frequency controls to prevent notification fatigue.</li>
          </ul>
          <p style="font-size:.75rem; opacity:.7; margin-top:12px;"><strong>Expected Release:</strong> Q4 2025 / Q1 2026. Follow our updates for launch announcements.</p>
          <a class="help-top-link" href="#category-platform">Back to Platform</a>
        </div>

        <div id="help-mobile" class="issue-detail" data-issue="mobile">
          <h3>Mobile Experience <span class="tag-ref">PLATFORM</span></h3>
          <p>GlitchRealm works on mobile browsers and can be installed as a PWA for app-like functionality.</p>
          <h4>Installing as PWA</h4>
          <ul>
            <li><strong>Android Chrome:</strong> Tap menu (‚ãÆ) &gt; Add to Home screen.</li>
            <li><strong>iOS Safari:</strong> Tap share icon &gt; Add to Home Screen.</li>
            <li>Launch from home screen for fullscreen mode without browser UI.</li>
          </ul>
          <h4>Mobile Performance Tips</h4>
          <ul>
            <li>Close other apps to free up RAM.</li>
            <li>Use Wi-Fi for best loading speeds.</li>
            <li>Some WebGL games may perform better on tablets vs. phones.</li>
            <li>Landscape orientation recommended for most games.</li>
          </ul>
          <h4>Known Mobile Limitations</h4>
          <ul>
            <li>Keyboard-heavy games may be difficult on touchscreen.</li>
            <li>Some browsers (Safari) have limited WebGL support.</li>
            <li>Audio may require user interaction to start (browser policy).</li>
          </ul>
          <a class="help-top-link" href="#category-platform">Back to Platform</a>
        </div>

        <div id="help-keyboard-shortcuts" class="issue-detail" data-issue="shortcuts">
          <h3>Keyboard Shortcuts <span class="tag-ref">PLATFORM</span></h3>
          <p>Speed up navigation with these keyboard shortcuts.</p>
          <h4>Global Shortcuts</h4>
          <ul>
            <li><code>Ctrl + /</code>: Open support chatbot.</li>
            <li><code>Ctrl + K</code>: Quick search (when available).</li>
            <li><code>Esc</code>: Close modals and overlays.</li>
          </ul>
          <h4>In-Game</h4>
          <ul>
            <li><code>F11</code>: Toggle fullscreen (browser-dependent).</li>
            <li><code>M</code>: Mute/unmute (if supported by game).</li>
            <li><code>P</code>: Pause (if supported by game).</li>
          </ul>
          <p style="font-size:.75rem; opacity:.75; margin-top:10px;">Note: Game-specific shortcuts vary. Check each game's controls page.</p>
          <a class="help-top-link" href="#category-platform">Back to Platform</a>
        </div>

        <div id="help-game-controllers" class="issue-detail" data-issue="controllers">
          <h3>Game Controllers <span class="tag-ref">PLATFORM</span></h3>
          <p>Many games support USB or Bluetooth gamepads via the Gamepad API.</p>
          <h4>Supported Controllers</h4>
          <ul>
            <li>Xbox One / Series X|S controllers (wired or Bluetooth).</li>
            <li>PlayStation DualShock 4 / DualSense (via USB or Bluetooth).</li>
            <li>Nintendo Switch Pro Controller (Bluetooth).</li>
            <li>Generic USB/Bluetooth HID gamepads.</li>
          </ul>
          <h4>Setup</h4>
          <ul>
            <li>Connect controller before launching game.</li>
            <li>Press any button to activate detection.</li>
            <li>Check game settings for button mapping.</li>
          </ul>
          <h4>Troubleshooting</h4>
          <ul>
            <li>Browser must support Gamepad API (Chrome, Edge, Firefox).</li>
            <li>Bluetooth controllers may have input lag on some systems.</li>
            <li>Test controller at <code>gamepad-tester.com</code> if issues persist.</li>
          </ul>
          <a class="help-top-link" href="#category-platform">Back to Platform</a>
        </div>
        </div>
      </div>

      <!-- DEVELOPERS CATEGORY -->
      <div id="category-developers" class="category-section">
        <button class="back-to-categories">Back to Categories</button>
        <hr class="help-section-divider" style="margin-top:0;" />
        <div style="margin-bottom:24px; display:flex; flex-wrap:wrap; gap:8px;">
          <a class="contact-chip" href="#help-submit-game">Submit Game</a>
          <a class="contact-chip" href="#help-branding">Branding</a>
          <a class="contact-chip" href="#help-cover-art">Cover Art</a>
          <a class="contact-chip" href="#help-developer-api">API & Integration</a>
        </div>
        <div class="support-section">
        <h2 style="font-size:1.8rem; margin-bottom:20px;">Developer Resources</h2>

        <div id="help-submit-game" class="issue-detail" data-issue="submit-game">
          <h3>Submitting a Game <span class="tag-ref">DEVELOPERS</span></h3>
          <p>Use the Submit Game page (requires verified or developer status).</p>
          <h4>Requirements</h4>
          <ul>
            <li>Cover image (PNG/JPG) ‚â§ 1MB.</li>
            <li>Unique slug (a-z, 0-9, dashes).</li>
            <li>Short + long description (avoid raw HTML script tags).</li>
          </ul>
          <h4>After Submitting</h4>
          <p>Status begins as <code>draft</code> or <code>pending</code> until staffed review.</p>
          <a class="help-top-link" href="#category-developers">Back to Developers</a>
        </div>

        <div id="help-branding" class="issue-detail" data-issue="branding">
          <h3>Branding & Assets <span class="tag-ref">DEVELOPERS</span></h3>
          <p>Follow consistent visual identity for listing and badges.</p>
          <h4>Guidelines</h4>
          <ul>
            <li>High contrast logo (transparent PNG).</li>
            <li>No copyrighted third‚Äëparty art unless you own rights.</li>
            <li>Keep cover safe-area (avoid vital text near edges).</li>
          </ul>
          <a class="help-top-link" href="#category-developers">Back to Developers</a>
        </div>

        <div id="help-cover-art" class="issue-detail" data-issue="cover-art">
          <h3>Cover Art Specs <span class="tag-ref">DEVELOPERS</span></h3>
          <p>Recommended size 1024√ó576 (16:9). Smaller images are accepted but will be upscaled which can soften detail.</p>
          <p style="font-size:.75rem; opacity:.75; margin-top:6px;">Upload pipeline is currently in <strong>beta</strong> (testing stability + storage quotas). If the direct upload fails or is temporarily disabled, you can still provide a hosted image URL (CDN, GitHub raw, etc.) and it will render normally.</p>
          <h4>Best Practices</h4>
          <ul>
            <li>Keep text large & readable.</li>
            <li>Export at 80‚Äì90% quality (optimize size).</li>
            <li>Avoid heavy motion blur ‚Äì crisp edges compress better.</li>
          </ul>
          <a class="help-top-link" href="#category-developers">Back to Developers</a>
        </div>

        <div id="help-developer-api" class="issue-detail" data-issue="developer-api">
          <h3>Developer API & Integration <span class="tag-ref">DEVELOPERS</span></h3>
          <p>Planning to integrate with GlitchRealm or build custom tools?</p>
          <h4>Current Availability</h4>
          <p>We don't yet have a public REST API. Authentication and game data are managed through Firebase/Firestore with direct client SDK access.</p>
          <h4>What You Can Do</h4>
          <ul>
            <li>Use Firebase SDK for auth integration in your games.</li>
            <li>Access Firestore for playtime/save data (with proper security rules).</li>
            <li>Embed GlitchRealm games in iframes (check game-specific permissions).</li>
          </ul>
          <h4>Upcoming Features</h4>
          <ul>
            <li>Public API for game stats and leaderboards (planned Q1 2026).</li>
            <li>Webhooks for game events (in development).</li>
            <li>OAuth integration for third-party services.</li>
          </ul>
          <p>Interested in early access? Email developers@glitchrealm.ca with your use case.</p>
          <a class="help-top-link" href="#category-developers">Back to Developers</a>
        </div>
        </div>
      </div>

      <!-- COMMUNITY CATEGORY -->
      <div id="category-community" class="category-section">
        <button class="back-to-categories">Back to Categories</button>
        <hr class="help-section-divider" style="margin-top:0;" />
        <div style="margin-bottom:24px; display:flex; flex-wrap:wrap; gap:8px;">
          <a class="contact-chip" href="#help-community-guidelines">Community Guidelines</a>
          <a class="contact-chip" href="community.html">Forums</a>
          <a class="contact-chip" href="moderation.html">Moderation</a>
        </div>
        <div class="support-section">
        <h2 style="font-size:1.8rem; margin-bottom:20px;">Community</h2>

        <div id="help-community-guidelines" class="issue-detail" data-issue="community">
          <h3>Community Guidelines <span class="tag-ref">COMMUNITY</span></h3>
          <p>GlitchRealm is a welcoming space for all gamers and creators. Please follow these guidelines.</p>
          <h4>Be Respectful</h4>
          <ul>
            <li>No harassment, hate speech, or discriminatory language.</li>
            <li>Respect other players' skill levels and learning curves.</li>
            <li>Constructive criticism is welcome; toxicity is not.</li>
          </ul>
          <h4>Keep It Safe</h4>
          <ul>
            <li>No NSFW content in public areas (avatars, usernames, comments).</li>
            <li>Don't share personal information publicly.</li>
            <li>Report any content that makes you uncomfortable.</li>
          </ul>
          <h4>Play Fair</h4>
          <ul>
            <li>No cheating, exploiting bugs, or manipulating leaderboards.</li>
            <li>Don't spam chat or flood game submissions.</li>
            <li>Give credit when using others' work or ideas.</li>
          </ul>
          <h4>Enforcement</h4>
          <p>Violations may result in warnings, content removal, or account suspension. Serious violations are reported to authorities where required by law.</p>
          <a class="help-top-link" href="#category-community">Back to Community</a>
        </div>
        </div>
      </div>

      <!-- CONTACT CATEGORY -->
      <div id="category-contact" class="category-section">
        <button class="back-to-categories">Back to Categories</button>
        <hr class="help-section-divider" style="margin-top:0;" />
        <div style="margin-bottom:24px; display:flex; flex-wrap:wrap; gap:8px;">
          <a class="contact-chip" href="mailto:support@glitchrealm.ca">General Support</a>
          <a class="contact-chip" href="mailto:legal@glitchrealm.ca">Legal</a>
          <a class="contact-chip" href="mailto:security@glitchrealm.ca">Security</a>
          <a class="contact-chip" href="mailto:developers@glitchrealm.ca">Developer Support</a>
          <a class="contact-chip" href="#" id="open-support-form-chip">Support Form</a>
        </div>
        <div class="support-section">
        <h2 style="font-size:1.8rem; margin-bottom:20px;">Contact Us</h2>
        
        <div style="display:grid; gap:16px; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); margin-bottom:30px;">
          <div style="padding:18px 20px; background:linear-gradient(135deg,#0b1822,#071017); border:1px solid rgba(0,255,249,0.15); border-radius:12px;">
            <h4 style="margin:0 0 8px; font-size:1rem; color:#00f5ff;">General Support</h4>
            <p style="margin:0 0 10px; font-size:.85rem; line-height:1.5; color:#c3d2d6;">Questions about your account, games, or platform features.</p>
            <a href="mailto:support@glitchrealm.ca" class="contact-chip">support@glitchrealm.ca</a>
          </div>
          <div style="padding:18px 20px; background:linear-gradient(135deg,#0b1822,#071017); border:1px solid rgba(0,255,249,0.15); border-radius:12px;">
            <h4 style="margin:0 0 8px; font-size:1rem; color:#00f5ff;">Legal Inquiries</h4>
            <p style="margin:0 0 10px; font-size:.85rem; line-height:1.5; color:#c3d2d6;">Copyright, DMCA, terms of service, and legal matters.</p>
            <a href="mailto:legal@glitchrealm.ca" class="contact-chip">legal@glitchrealm.ca</a>
          </div>
          <div style="padding:18px 20px; background:linear-gradient(135deg,#0b1822,#071017); border:1px solid rgba(0,255,249,0.15); border-radius:12px;">
            <h4 style="margin:0 0 8px; font-size:1rem; color:#00f5ff;">Security Reports</h4>
            <p style="margin:0 0 10px; font-size:.85rem; line-height:1.5; color:#c3d2d6;">Report vulnerabilities, account breaches, or security concerns.</p>
            <a href="mailto:security@glitchrealm.ca" class="contact-chip">security@glitchrealm.ca</a>
          </div>
          <div style="padding:18px 20px; background:linear-gradient(135deg,#0b1822,#071017); border:1px solid rgba(0,255,249,0.15); border-radius:12px;">
            <h4 style="margin:0 0 8px; font-size:1rem; color:#00f5ff;">Developer Support</h4>
            <p style="margin:0 0 10px; font-size:.85rem; line-height:1.5; color:#c3d2d6;">Game submission, API access, and integration questions.</p>
            <a href="mailto:developers@glitchrealm.ca" class="contact-chip">developers@glitchrealm.ca</a>
          </div>
        </div>

        <div style="margin-top:28px;">
          <h4 style="margin:0 0 12px; font-size:1rem; color:#00f5ff;">Submit a Support Request</h4>
          <p style="font-size:.85rem; margin-bottom:14px; color:#c3d2d6;">For detailed issues, use our support form for faster assistance.</p>
          <button id="open-support-form" type="button" class="btn btn-primary">Open Support Form</button>
        </div>
        </div>
      </div>

      <!-- General Content (FAQ, Resources, etc.) - shown when no category is active -->
      <div id="general-content">
      <!-- Quick FAQ Section -->
      <hr class="help-section-divider" />
      <div class="support-section" id="faq">
        <h2 style="font-size:1.8rem; margin-bottom:20px;">Frequently Asked Questions</h2>
        <div class="faq-item">
          <h4>How do I verify my account?</h4>
          <p>Go to the User Portal and open the Verification section. Complete the brief form and a team member will review it.</p>
        </div>
        <div class="faq-item">
          <h4>My playtime isn‚Äôt syncing.</h4>
          <p>Make sure you are signed in on all tabs. Refresh the game tab and allow a few seconds for sync. If it persists, clear local storage using the test script.</p>
        </div>
        <div class="faq-item">
          <h4>Can I submit a game?</h4>
          <p>Yes‚Äîverified creators or approved developers can submit via the Submit Game page. Cover image upload via Supabase is required.</p>
        </div>
        <div class="faq-item">
          <h4>How do I report a bug?</h4>
          <p>Use the in-game report option (if available) or email support@glitchrealm.ca with steps to reproduce and your browser version.</p>
        </div>
        <div class="faq-item">
          <h4>Can I change my display name?</h4>
          <p>Yes. Open the User Portal and use the profile section. Changes may be rate‚Äëlimited to prevent abuse.</p>
        </div>
        <div class="faq-item">
          <h4>What browsers are supported?</h4>
          <p>Latest Chrome / Edge / Brave are recommended. Firefox works for most features; Safari may have reduced performance for WebGL titles.</p>
        </div>
        <div class="faq-item">
          <h4>Is my data secure?</h4>
          <p>Authentication and core data use Firebase (Google infrastructure). Game cover uploads use Supabase storage. We never store plaintext passwords.</p>
        </div>
        <div class="faq-item">
            <h4>How do I delete my account?</h4>
            <p>From the User Portal open Settings &gt; Delete Account. This immediately schedules removal of profile + playtime data after a short safety delay.</p>
        </div>
        <div class="faq-item">
          <h4>Can I play games offline?</h4>
          <p>Currently, most games require an active internet connection for asset loading and authentication. Some games may cache after first load, but full offline mode is not yet supported.</p>
        </div>
        <div class="faq-item">
          <h4>Do you have a mobile app?</h4>
          <p>Not yet. GlitchRealm is optimized as a Progressive Web App (PWA). You can "Add to Home Screen" on mobile devices for an app-like experience.</p>
        </div>
        <div class="faq-item">
          <h4>How do I report inappropriate content?</h4>
          <p>Use the report button on game pages or contact moderation@glitchrealm.ca with the game title and specific details. Reports are reviewed within 24 hours.</p>
        </div>
        <div class="faq-item">
          <h4>Can I request a feature?</h4>
          <p>Yes! Email support@glitchrealm.ca with your feature request or join our community discussions. Popular requests are tracked and prioritized.</p>
        </div>
        <div class="faq-item">
          <h4>Is GlitchRealm free?</h4>
          <p>Yes, 100% free to use. Donations can be made via Buy Me a Coffee to help keep the platform running. Premium features may be introduced in the future.</p>
        </div>
        <div class="faq-item">
          <h4>How often are new games added?</h4>
          <p>New games are added as developers submit them and they pass our review process. Typically 2-5 new titles per month, with more during game jam seasons.</p>
        </div>
        <div class="faq-item">
          <h4>Is there an age limit for accounts?</h4>
          <p>You must be 13 years or older to create an account per our Terms of Service. Parental consent is required for users under 18 in certain regions.</p>
        </div>
      </div>

      <!-- Additional Resources -->
      <hr class="help-section-divider" />
      <div class="support-section" id="additional-resources">
        <h2 style="font-size:1.8rem; margin-bottom:20px;">Additional Resources</h2>
        
        <div style="display:grid; gap:18px; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); margin-bottom:30px;">
          <!-- Live Assistant -->
          <div style="padding:20px 22px; background:linear-gradient(135deg,#0b1822,#071017); border:1px solid rgba(0,255,249,0.15); border-radius:14px;">
            <h4 style="margin:0 0 10px; font-size:1.05rem; color:#00f5ff; display:flex; align-items:center; gap:8px;">
              <span style="font-size:1.2rem;">ü§ñ</span> Live Assistant
            </h4>
            <p style="font-size:.85rem; margin:0 0 12px; line-height:1.5; color:#c3d2d6;">The GlitchRealm Bot can answer common questions and escalate edge cases.</p>
            <p style="font-size:.7rem; opacity:.65; margin:0;">Note: Only loaded on this page for performance & privacy.</p>
          </div>

          <!-- Support Development -->
          <div style="padding:20px 22px; background:linear-gradient(135deg,#0b1822,#071017); border:1px solid rgba(0,255,249,0.15); border-radius:14px;">
            <h4 style="margin:0 0 10px; font-size:1.05rem; color:#00f5ff; display:flex; align-items:center; gap:8px;">
              <span style="font-size:1.2rem;">‚òï</span> Support Development
            </h4>
            <p style="font-size:.85rem; margin:0 0 12px; line-height:1.5; color:#c3d2d6;">Your contributions help keep GlitchRealm online and expanding.</p>
            <div id="bmc-container"></div>
          </div>

          <!-- System Status -->
          <div style="padding:20px 22px; background:linear-gradient(135deg,#0b1822,#071017); border:1px solid rgba(0,255,249,0.15); border-radius:14px;">
            <h4 style="margin:0 0 10px; font-size:1.05rem; color:#00f5ff; display:flex; align-items:center; gap:8px;">
              <span style="font-size:1.2rem;">üìä</span> System Status
            </h4>
            <div style="display:flex; align-items:center; gap:8px; margin-bottom:8px;">
              <span style="width:10px; height:10px; background:#00ff88; border-radius:50%; box-shadow:0 0 6px rgba(0,255,136,0.6);"></span>
              <strong style="color:#00ff88; font-size:.85rem; letter-spacing:.4px;">All Systems Operational</strong>
            </div>
            <p style="font-size:.75rem; margin:0; opacity:.7;">Last updated: October 2, 2025</p>
          </div>
        </div>
      </div>

      <!-- Helpful Documentation -->
      <div class="support-section" id="resources">
        <h2 style="font-size:1.4rem; margin-bottom:18px;">Documentation & Links</h2>
        <div style="display:grid; gap:14px; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); margin-top:16px;">
          <div style="padding:14px 16px; background:linear-gradient(135deg,#0b1822,#071017); border:1px solid rgba(0,255,249,0.12); border-radius:10px;">
            <h4 style="margin:0 0 6px; font-size:.95rem; color:#00f5ff;">Documentation</h4>
            <ul style="font-size:.8rem; margin:4px 0 0 18px; padding:0; line-height:1.7; color:#c3d2d6;">
              <li><a href="README.md" style="color:#00e3ff; text-decoration:none;">README.md</a> ‚Äì Project overview</li>
              <li><a href="planning.md" style="color:#00e3ff; text-decoration:none;">planning.md</a> ‚Äì Development roadmap</li>
              <li><a href="AVATAR_IMPLEMENTATION.md" style="color:#00e3ff; text-decoration:none;">Avatar Implementation</a> ‚Äì Technical guide</li>
            </ul>
          </div>
          <div style="padding:14px 16px; background:linear-gradient(135deg,#0b1822,#071017); border:1px solid rgba(0,255,249,0.12); border-radius:10px;">
            <h4 style="margin:0 0 6px; font-size:.95rem; color:#00f5ff;">Legal & Policies</h4>
            <ul style="font-size:.8rem; margin:4px 0 0 18px; padding:0; line-height:1.7; color:#c3d2d6;">
              <li><a href="terms-of-service.html" style="color:#00e3ff; text-decoration:none;">Terms of Service</a></li>
              <li><a href="privacy-policy.html" style="color:#00e3ff; text-decoration:none;">Privacy Policy</a></li>
              <li><a href="LEGAL.md" style="color:#00e3ff; text-decoration:none;">Legal Information</a></li>
            </ul>
          </div>
          <div style="padding:14px 16px; background:linear-gradient(135deg,#0b1822,#071017); border:1px solid rgba(0,255,249,0.12); border-radius:10px;">
            <h4 style="margin:0 0 6px; font-size:.95rem; color:#00f5ff;">Developer Tools</h4>
            <ul style="font-size:.8rem; margin:4px 0 0 18px; padding:0; line-height:1.7; color:#c3d2d6;">
              <li><a href="submit-game.html" style="color:#00e3ff; text-decoration:none;">Submit a Game</a></li>
              <li><a href="test-playtime.js" style="color:#00e3ff; text-decoration:none;">Playtime Debugger</a></li>
              <li><a href="https://firebase.google.com/docs" target="_blank" rel="noopener" style="color:#00e3ff; text-decoration:none;">Firebase Docs ‚Üó</a></li>
              <li><a href="https://supabase.com/docs" target="_blank" rel="noopener" style="color:#00e3ff; text-decoration:none;">Supabase Docs ‚Üó</a></li>
            </ul>
          </div>
          <div style="padding:14px 16px; background:linear-gradient(135deg,#0b1822,#071017); border:1px solid rgba(0,255,249,0.12); border-radius:10px;">
            <h4 style="margin:0 0 6px; font-size:.95rem; color:#00f5ff;">Testing Pages</h4>
            <ul style="font-size:.8rem; margin:4px 0 0 18px; padding:0; line-height:1.7; color:#c3d2d6;">
              <li><a href="playtime-test.html" style="color:#00e3ff; text-decoration:none;">Playtime Test</a></li>
              <li><a href="test-modal.html" style="color:#00e3ff; text-decoration:none;">Modal Test</a></li>
              <li><a href="test-dropdown.html" style="color:#00e3ff; text-decoration:none;">Dropdown Test</a></li>
              <li><a href="test-delete-account.html" style="color:#00e3ff; text-decoration:none;">Delete Account Test</a></li>
            </ul>
          </div>
        </div>
      </div>

      <hr class="help-section-divider" />
      <div class="support-section" id="detailed-help">
        <h2>Detailed Help Guides</h2>
        <p style="font-size:.85rem; opacity:.8; max-width:760px">Click any topic chip above or jump to a section below. Each guide lists quick fixes first, then advanced troubleshooting.</p>

        <div id="help-reset-password" class="issue-detail" data-issue="reset-password">
          <h3>Reset Password <span class="tag-ref">ACCOUNT</span></h3>
          <p>If you forgot your password, use <strong>Forgot Password</strong> on the sign-in page. You'll receive an email with a link.</p>
          <h4>Quick Steps</h4>
          <ul>
            <li>Open the sign in page &gt; Forgot Password.</li>
            <li>Enter the email tied to your GlitchRealm account.</li>
            <li>Click the link in the email within 15 minutes.</li>
          </ul>
          <h4>If Email Doesn't Arrive</h4>
            <ul>
              <li>Check spam / promotions folders.</li>
              <li>Make sure you didn't sign up with a different email alias.</li>
              <li>Wait 2‚Äì3 minutes; some providers delay new senders.</li>
            </ul>
          <h4>Link Says Expired</h4>
          <p>Request a new reset. Only the most recent link works.</p>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-change-email" class="issue-detail" data-issue="change-email">
          <h3>Change Email <span class="tag-ref">ACCOUNT</span></h3>
          <p>In the User Portal, open <strong>Account Settings</strong> and use the Change Email form. You'll need to re-authenticate for security.</p>
          <h4>Checklist</h4>
          <ul>
            <li>New email isn't already used on another account.</li>
            <li>You are still signed in (token not expired).</li>
            <li>Confirm any verification mail if required.</li>
          </ul>
          <h4>Common Errors</h4>
          <ul>
            <li><code>requires-recent-login</code>: Sign out & sign in again, then retry.</li>
            <li><code>email-already-in-use</code>: That address already exists‚Äîuse password reset instead.</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-verification" class="issue-detail" data-issue="verification">
          <h3>Verification <span class="tag-ref">ACCOUNT</span></h3>
          <p>Verification unlocks creator / submission features and a badge. Use the Verification form in the User Portal.</p>
          <h4>Tips</h4>
          <ul>
            <li>Add a short description of what you build.</li>
            <li>Provide links (GitHub, itch.io) if available.</li>
            <li>Submissions are usually reviewed within 24‚Äì72h.</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-playtime" class="issue-detail" data-issue="playtime">
          <h3>Playtime Not Updating <span class="tag-ref">PLATFORM</span></h3>
          <p>Playtime is tracked client-side and periodically synced to Firestore.</p>
          <h4>Quick Fix</h4>
          <ul>
            <li>Keep the game tab focused at least once every 60s.</li>
            <li>Stay signed in (the tracker pauses if auth token expires).</li>
            <li>Don‚Äôt block <code>localStorage</code> or script execution.</li>
          </ul>
          <h4>Advanced Troubleshooting</h4>
          <ul>
            <li>Open DevTools Console; check for Firebase permission errors.</li>
            <li>Clear site data (localStorage key: <code>gr.playtime.*</code>) if corrupt.</li>
            <li>Multiple tabs: only the most active tab should accumulate time.</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-cloud-save" class="issue-detail" data-issue="cloud-save">
          <h3>Cloud Save Issues <span class="tag-ref">PLATFORM</span></h3>
          <p>If a game supports saves, they sync using Firestore or Supabase depending on the title.</p>
          <h4>Fixes</h4>
          <ul>
            <li>Ensure network isn't blocking <code>firestore.googleapis.com</code>.</li>
            <li>Disable aggressive privacy extensions temporarily.</li>
            <li>Confirm you're signed into the same account across devices.</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-performance" class="issue-detail" data-issue="performance">
          <h3>Performance / Low FPS <span class="tag-ref">PLATFORM</span></h3>
          <p>Performance depends on browser GPU acceleration and asset caching.</p>
          <h4>Quick Wins</h4>
          <ul>
            <li>Close other heavy tabs (video streaming, WebGL sites).</li>
            <li>Use Chromium-based browser with hardware acceleration on.</li>
            <li>Disable unnecessary overlays (recorders, extensions).</li>
          </ul>
          <h4>Advanced</h4>
          <ul>
            <li>Open DevTools Performance panel to spot layout thrash.</li>
            <li>Clear cache if assets changed recently (Shift + Reload).</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-submit-game" class="issue-detail" data-issue="submit-game">
          <h3>Submitting a Game <span class="tag-ref">DEVELOPERS</span></h3>
          <p>Use the Submit Game page (requires verified or developer status).</p>
          <h4>Requirements</h4>
          <ul>
            <li>Cover image (PNG/JPG) ‚â§ 1MB.</li>
            <li>Unique slug (a-z, 0-9, dashes).</li>
            <li>Short + long description (avoid raw HTML script tags).</li>
          </ul>
          <h4>After Submitting</h4>
          <p>Status begins as <code>draft</code> or <code>pending</code> until staffed review.</p>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-branding" class="issue-detail" data-issue="branding">
          <h3>Branding & Assets <span class="tag-ref">DEVELOPERS</span></h3>
          <p>Follow consistent visual identity for listing and badges.</p>
          <h4>Guidelines</h4>
          <ul>
            <li>High contrast logo (transparent PNG).</li>
            <li>No copyrighted third‚Äëparty art unless you own rights.</li>
            <li>Keep cover safe-area (avoid vital text near edges).</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-cover-art" class="issue-detail" data-issue="cover-art">
          <h3>Cover Art Specs <span class="tag-ref">DEVELOPERS</span></h3>
          <p>Recommended size 1024√ó576 (16:9). Smaller images are accepted but will be upscaled which can soften detail.</p>
          <p style="font-size:.75rem; opacity:.75; margin-top:6px;">Upload pipeline is currently in <strong>beta</strong> (testing stability + storage quotas). If the direct upload fails or is temporarily disabled, you can still provide a hosted image URL (CDN, GitHub raw, etc.) and it will render normally.</p>
          <h4>Best Practices</h4>
          <ul>
            <li>Keep text large & readable.</li>
            <li>Export at 80‚Äì90% quality (optimize size).</li>
            <li>Avoid heavy motion blur ‚Äì crisp edges compress better.</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-avatar" class="issue-detail" data-issue="avatar">
          <h3>Profile Avatars <span class="tag-ref">ACCOUNT</span></h3>
          <p>Upload or change your profile avatar from the User Portal. Avatars are stored securely in Supabase.</p>
          <h4>Upload Requirements</h4>
          <ul>
            <li>Image formats: JPG, PNG, GIF (no animated GIFs).</li>
            <li>Max file size: 2MB.</li>
            <li>Recommended: 256√ó256 or larger square images.</li>
            <li>Content must be appropriate (no NSFW, offensive, or copyrighted material).</li>
          </ul>
          <h4>Troubleshooting Upload Issues</h4>
          <ul>
            <li>If upload fails, check file size and format.</li>
            <li>Try a different browser if issues persist.</li>
            <li>Clear cache and cookies, then retry.</li>
            <li>Contact support if you see storage quota errors.</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-privacy" class="issue-detail" data-issue="privacy">
          <h3>Privacy & Data <span class="tag-ref">ACCOUNT</span></h3>
          <p>We take your privacy seriously. See our full <a href="privacy-policy.html" style="color:#00f5ff;">Privacy Policy</a> for details.</p>
          <h4>What Data We Collect</h4>
          <ul>
            <li>Account info: Email, display name, verification status.</li>
            <li>Playtime data: Per-game session tracking (local + cloud sync).</li>
            <li>Analytics: Page visits, feature usage (anonymized where possible).</li>
            <li>Uploads: Avatar images, game cover art (if you're a developer).</li>
          </ul>
          <h4>Your Rights</h4>
          <ul>
            <li><strong>Access:</strong> Request a copy of your data via support@glitchrealm.ca.</li>
            <li><strong>Deletion:</strong> Use the Delete Account feature in User Portal.</li>
            <li><strong>Correction:</strong> Update profile info directly in User Portal.</li>
            <li><strong>Opt-out:</strong> Disable analytics tracking in browser settings.</li>
          </ul>
          <h4>Third-Party Services</h4>
          <p>We use Firebase (Google), Supabase, and DoAI chatbot. Each follows their own privacy policies.</p>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-notifications" class="issue-detail" data-issue="notifications">
          <h3>Notifications <span class="tag-ref">PLATFORM</span> <span style="background:rgba(255,191,0,0.15); border:1px solid rgba(255,191,0,0.4); color:#ffbf00; padding:2px 8px; border-radius:12px; font-size:.65rem; font-weight:700; letter-spacing:.8px; margin-left:8px;">COMING SOON</span></h3>
          <p>Browser notifications for new games, updates, and community events are currently in development.</p>
          <h4>Planned Features</h4>
          <ul>
            <li>New game releases in genres you play.</li>
            <li>Platform updates and maintenance notices.</li>
            <li>Community event announcements.</li>
            <li>Developer updates for games you follow.</li>
            <li>Playtime milestones and achievements.</li>
          </ul>
          <h4>When Available</h4>
          <p>When notifications launch, you'll be prompted to enable them on your first visit. You can also enable them manually via browser settings &gt; Site Permissions &gt; Notifications for glitchrealm.ca.</p>
          <h4>Privacy First</h4>
          <ul>
            <li>Opt-in only ‚Äì we'll never enable without your permission.</li>
            <li>Easy opt-out anytime via browser settings.</li>
            <li>Frequency controls to prevent notification fatigue.</li>
          </ul>
          <p style="font-size:.75rem; opacity:.7; margin-top:12px;"><strong>Expected Release:</strong> Q4 2025 / Q1 2026. Follow our updates for launch announcements.</p>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-mobile" class="issue-detail" data-issue="mobile">
          <h3>Mobile Experience <span class="tag-ref">PLATFORM</span></h3>
          <p>GlitchRealm works on mobile browsers and can be installed as a PWA for app-like functionality.</p>
          <h4>Installing as PWA</h4>
          <ul>
            <li><strong>Android Chrome:</strong> Tap menu (‚ãÆ) &gt; Add to Home screen.</li>
            <li><strong>iOS Safari:</strong> Tap share icon &gt; Add to Home Screen.</li>
            <li>Launch from home screen for fullscreen mode without browser UI.</li>
          </ul>
          <h4>Mobile Performance Tips</h4>
          <ul>
            <li>Close other apps to free up RAM.</li>
            <li>Use Wi-Fi for best loading speeds.</li>
            <li>Some WebGL games may perform better on tablets vs. phones.</li>
            <li>Landscape orientation recommended for most games.</li>
          </ul>
          <h4>Known Mobile Limitations</h4>
          <ul>
            <li>Keyboard-heavy games may be difficult on touchscreen.</li>
            <li>Some browsers (Safari) have limited WebGL support.</li>
            <li>Audio may require user interaction to start (browser policy).</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-keyboard-shortcuts" class="issue-detail" data-issue="shortcuts">
          <h3>Keyboard Shortcuts <span class="tag-ref">PLATFORM</span></h3>
          <p>Speed up navigation with these keyboard shortcuts.</p>
          <h4>Global Shortcuts</h4>
          <ul>
            <li><code>Ctrl / ‚åò + /</code>: Open support chatbot.</li>
            <li><code>Ctrl / ‚åò + K</code>: Quick search (when available).</li>
            <li><code>Esc</code>: Close modals and overlays.</li>
          </ul>
          <h4>In-Game</h4>
          <ul>
            <li><code>F11</code>: Toggle fullscreen (browser-dependent).</li>
            <li><code>M</code>: Mute/unmute (if supported by game).</li>
            <li><code>P</code>: Pause (if supported by game).</li>
          </ul>
          <p style="font-size:.75rem; opacity:.75; margin-top:10px;">Note: Game-specific shortcuts vary. Check each game's controls page.</p>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-game-controllers" class="issue-detail" data-issue="controllers">
          <h3>Game Controllers <span class="tag-ref">PLATFORM</span></h3>
          <p>Many games support USB or Bluetooth gamepads via the Gamepad API.</p>
          <h4>Supported Controllers</h4>
          <ul>
            <li>Xbox One / Series X|S controllers (wired or Bluetooth).</li>
            <li>PlayStation DualShock 4 / DualSense (via USB or Bluetooth).</li>
            <li>Nintendo Switch Pro Controller (Bluetooth).</li>
            <li>Generic USB/Bluetooth HID gamepads.</li>
          </ul>
          <h4>Setup</h4>
          <ul>
            <li>Connect controller before launching game.</li>
            <li>Press any button to activate detection.</li>
            <li>Check game settings for button mapping.</li>
          </ul>
          <h4>Troubleshooting</h4>
          <ul>
            <li>Browser must support Gamepad API (Chrome, Edge, Firefox).</li>
            <li>Bluetooth controllers may have input lag on some systems.</li>
            <li>Test controller at <code>gamepad-tester.com</code> if issues persist.</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-security" class="issue-detail" data-issue="security">
          <h3>Account Security <span class="tag-ref">ACCOUNT</span></h3>
          <p>Keep your account safe with these best practices.</p>
          <h4>Strong Passwords</h4>
          <ul>
            <li>Use at least 12 characters with mixed case, numbers, symbols.</li>
            <li>Don't reuse passwords from other sites.</li>
            <li>Consider a password manager (1Password, Bitwarden, etc.).</li>
          </ul>
          <h4>Two-Factor Authentication</h4>
          <p>Firebase supports 2FA. Enable it in your Google account settings if you signed up via Google.</p>
          <h4>Suspicious Activity</h4>
          <ul>
            <li>Unexpected password reset emails? Someone may be trying to access your account.</li>
            <li>Change password immediately and contact security@glitchrealm.ca.</li>
            <li>Check recent sign-in activity in Firebase console if suspicious.</li>
          </ul>
          <h4>Phishing Protection</h4>
          <ul>
            <li>Always verify URL is <code>glitchrealm.ca</code> (not glitch-realm, glitchrealms, etc.).</li>
            <li>We'll never ask for your password via email or chatbot.</li>
            <li>Report suspicious emails to security@glitchrealm.ca.</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-community-guidelines" class="issue-detail" data-issue="community">
          <h3>Community Guidelines <span class="tag-ref">COMMUNITY</span></h3>
          <p>GlitchRealm is a welcoming space for all gamers and creators. Please follow these guidelines.</p>
          <h4>Be Respectful</h4>
          <ul>
            <li>No harassment, hate speech, or discriminatory language.</li>
            <li>Respect other players' skill levels and learning curves.</li>
            <li>Constructive criticism is welcome; toxicity is not.</li>
          </ul>
          <h4>Keep It Safe</h4>
          <ul>
            <li>No NSFW content in public areas (avatars, usernames, comments).</li>
            <li>Don't share personal information publicly.</li>
            <li>Report any content that makes you uncomfortable.</li>
          </ul>
          <h4>Play Fair</h4>
          <ul>
            <li>No cheating, exploiting bugs, or manipulating leaderboards.</li>
            <li>Don't spam chat or flood game submissions.</li>
            <li>Give credit when using others' work or ideas.</li>
          </ul>
          <h4>Enforcement</h4>
          <p>Violations may result in warnings, content removal, or account suspension. Serious violations are reported to authorities where required by law.</p>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-developer-api" class="issue-detail" data-issue="developer-api">
          <h3>Developer API & Integration <span class="tag-ref">DEVELOPERS</span></h3>
          <p>Planning to integrate with GlitchRealm or build custom tools?</p>
          <h4>Current Availability</h4>
          <p>We don't yet have a public REST API. Authentication and game data are managed through Firebase/Firestore with direct client SDK access.</p>
          <h4>What You Can Do</h4>
          <ul>
            <li>Use Firebase SDK for auth integration in your games.</li>
            <li>Access Firestore for playtime/save data (with proper security rules).</li>
            <li>Embed GlitchRealm games in iframes (check game-specific permissions).</li>
          </ul>
          <h4>Upcoming Features</h4>
          <ul>
            <li>Public API for game stats and leaderboards (planned Q1 2026).</li>
            <li>Webhooks for game events (in development).</li>
            <li>OAuth integration for third-party services.</li>
          </ul>
          <p>Interested in early access? Email developers@glitchrealm.ca with your use case.</p>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>
      </div>
      </div><!-- End general-content -->

    </section>
  </main>
  <div id="footer-placeholder"></div>

  <!-- Static Netlify Support Request Form (hidden modal so Netlify can index it) -->
  <div id="support-form-modal" class="support-form-modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="support-form-title" style="display:none;">
    <div class="support-form-backdrop" data-close></div>
    <div class="support-form-dialog">
      <button class="support-form-close" id="close-support-form" aria-label="Close">&times;</button>
      <h3 id="support-form-title">Submit a Support Request</h3>
      <form name="support-request" method="POST" data-netlify="true" netlify data-netlify-honeypot="bot-field" class="support-form" autocomplete="on" action="thank-you.html">
        <input type="hidden" name="form-name" value="support-request" />
        <p class="sr-only" style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;">
          <label>Don‚Äôt fill this out: <input name="bot-field" /></label>
        </p>
        <label class="sf-field">
          <span>Name</span>
          <input required name="name" type="text" maxlength="80" />
        </label>
        <label class="sf-field">
          <span>Email</span>
            <input required name="email" type="email" maxlength="120" />
        </label>
        <label class="sf-field">
          <span>Category</span>
          <select name="category" required>
            <option value="Account">Account</option>
            <option value="Playtime">Playtime</option>
            <option value="Bug">Bug Report</option>
            <option value="Verification">Verification</option>
            <option value="Submission">Game Submission</option>
            <option value="Other">Other</option>
          </select>
        </label>
        <label class="sf-field">
          <span>Subject</span>
          <input required name="subject" type="text" maxlength="140" />
        </label>
        <label class="sf-field">
          <span>Message</span>
          <textarea required name="message" rows="6" maxlength="4000" placeholder="Describe the issue, steps to reproduce, expected vs actual behavior..."></textarea>
        </label>
        <div class="sf-actions">
          <button type="submit" class="btn btn-primary">Send</button>
          <button type="button" class="btn btn-secondary" data-close>Cancel</button>
        </div>
        <p class="sf-note">Files or screenshots? Paste image links (GitHub, Imgur, etc.) into the message body.</p>
      </form>
    </div>
  </div>

  <!-- Chatbot widget only on this page -->
  <script id="doai-chatbot-loader" async
    src="https://kcur57gey4euhzpupakvb43g.agents.do-ai.run/static/chatbot/widget.js"
    data-agent-id="bd55ebc0-7b86-11f0-b074-4e013e2ddde4"
    data-chatbot-id="iLcsXT380jITKSw3t6GQxi14J3z3bc64"
    data-name="GlitchRealm Bot"
    data-primary-color="#00FFF9"
    data-secondary-color="#E5E8ED"
    data-button-background-color="#0A1629"
    data-starting-message="Hello! How can I help you today?"
  data-logo="assets/Favicon and Icons/favicon.ico"></script>
  <script>
    // System Status Loader
    (async function(){
      const statusIndicator = document.getElementById('status-indicator');
      const statusText = document.getElementById('status-text');
      const statusInfoBtn = document.getElementById('status-info-btn');
      const statusDescription = document.getElementById('status-description');
      
      try {
        // Import Firestore
        const { getFirestore, doc, getDoc } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js');
        
        // Wait for Firebase app to be available
        let attempts = 0;
        while (!window.firebaseApp && attempts < 20) {
          await new Promise(resolve => setTimeout(resolve, 100));
          attempts++;
        }
        
        if (!window.firebaseApp) {
          console.error('[Support] Firebase app not available');
          return;
        }
        
        const db = getFirestore(window.firebaseApp);
        const statusDoc = await getDoc(doc(db, 'system', 'status'));
        
        if(statusDoc.exists()){
          const data = statusDoc.data();
          const status = data.status || 'operational';
          const message = data.message || 'All Systems Operational';
          const description = data.description || '';
          
          console.log('[Support] Loaded status:', { status, message, description });
          
          // Update status text
          statusText.textContent = message;
          
          // Update indicator color
          if(status === 'operational'){
            statusIndicator.style.background = '#00ff00';
            statusIndicator.style.boxShadow = '0 0 10px #00ff00';
          } else if(status === 'degraded'){
            statusIndicator.style.background = '#ffaa00';
            statusIndicator.style.boxShadow = '0 0 10px #ffaa00';
          } else if(status === 'down'){
            statusIndicator.style.background = '#ff0000';
            statusIndicator.style.boxShadow = '0 0 10px #ff0000';
          }
          
          // Show info button and description if there's a description
          if(description && description.trim()){
            statusDescription.textContent = description;
            statusInfoBtn.style.display = 'inline-block';
            
            statusInfoBtn.addEventListener('click', () => {
              if(statusDescription.style.display === 'none'){
                statusDescription.style.display = 'block';
              } else {
                statusDescription.style.display = 'none';
              }
            });
          }
        } else {
          console.log('[Support] No status document found');
        }
      } catch(err) {
        console.error('[Support] Failed to load status:', err);
      }
    })();

    // Category Navigation System
    (function(){
      const categoryCards = document.getElementById('category-cards');
      const categorySections = document.querySelectorAll('.category-section');
      const backButtons = document.querySelectorAll('.back-to-categories');
      const generalContent = document.getElementById('general-content');
      
      function showCategories(){
        categoryCards.style.display = 'grid';
        if(generalContent) generalContent.style.display = 'none';
        categorySections.forEach(section => section.classList.remove('active'));
        window.scrollTo({top: 0, behavior: 'smooth'});
        history.replaceState(null, '', window.location.pathname);
      }
      
      function showCategory(categoryId){
        categoryCards.style.display = 'none';
        if(generalContent) generalContent.style.display = 'none';
        categorySections.forEach(section => {
          if(section.id === categoryId){
            section.classList.add('active');
          } else {
            section.classList.remove('active');
          }
        });
        window.scrollTo({top: 0, behavior: 'smooth'});
      }
      
      // Handle category card clicks
      document.querySelectorAll('.support-card[data-category]').forEach(card =>{
        card.addEventListener('click', (e) =>{
          e.preventDefault();
          const category = card.getAttribute('data-category');
          const categoryId = `category-${category}`;
          showCategory(categoryId);
          history.replaceState(null, '', `#${categoryId}`);
        });
      });
      
      // Handle back button clicks
      backButtons.forEach(btn =>{
        btn.addEventListener('click', showCategories);
      });
      
      // Handle direct hash navigation
      if(location.hash && location.hash.startsWith('#category-')){
        setTimeout(() => showCategory(location.hash.substring(1)), 100);
      }
      
      // Handle hash links within category sections
      document.querySelectorAll('a[href^="#help-"]').forEach(link =>{
        link.addEventListener('click', (e) =>{
          const targetId = link.getAttribute('href').substring(1);
          const target = document.getElementById(targetId);
          if(target){
            e.preventDefault();
            // Find which category this help item belongs to
            let categorySection = target.closest('.category-section');
            if(categorySection && !categorySection.classList.contains('active')){
              showCategory(categorySection.id);
              setTimeout(() =>{
                target.scrollIntoView({behavior:'smooth', block:'start'});
                target.classList.add('issue-target-highlight');
                setTimeout(() => target.classList.remove('issue-target-highlight'), 1900);
              }, 300);
            } else {
              target.scrollIntoView({behavior:'smooth', block:'start'});
              target.classList.add('issue-target-highlight');
              setTimeout(() => target.classList.remove('issue-target-highlight'), 1900);
            }
          }
        });
      });
    })();
    
    // Support Request Modal open/close (static Netlify form present in DOM)
    (function(){
      const openBtn = document.getElementById('open-support-form');
      const openChip = document.getElementById('open-support-form-chip');
      const modal = document.getElementById('support-form-modal');
      if(!modal) return;
      let lastFocused = null;
      const dialog = modal.querySelector('.support-form-dialog');
      function trapFocus(){
        lastFocused = document.activeElement;
        const focusables = modal.querySelectorAll('button, [href], input, select, textarea');
        const first = focusables[0]; const last = focusables[focusables.length-1];
        if(first) first.focus();
        function loop(e){ if(e.key==='Tab'){ if(e.shiftKey && document.activeElement===first){ e.preventDefault(); last.focus(); } else if(!e.shiftKey && document.activeElement===last){ e.preventDefault(); first.focus(); } } }
        modal.addEventListener('keydown', loop);
        modal._loop = loop;
      }
      function releaseFocus(){ if(lastFocused) try{ lastFocused.focus(); }catch{} if(modal._loop) modal.removeEventListener('keydown', modal._loop); }
      function open(){ modal.style.display='block'; modal.setAttribute('aria-hidden','false'); setTimeout(()=> modal.classList.add('visible'), 10); trapFocus(); }
      function close(){ modal.classList.remove('visible'); setTimeout(()=>{ modal.style.display='none'; modal.setAttribute('aria-hidden','true'); releaseFocus(); }, 180); }
      if(openBtn) openBtn.addEventListener('click', open);
      if(openChip) openChip.addEventListener('click', (e) => { e.preventDefault(); open(); });
      modal.addEventListener('click', e=>{ if(e.target===modal || e.target.hasAttribute('data-close')) close(); });
      document.getElementById('close-support-form')?.addEventListener('click', close);
      document.addEventListener('keydown', e=>{ if(e.key==='Escape' && modal.classList.contains('visible')) close(); });
    })();
  </script>
  <script>
    // Reusable open helper (trimmed version)
    (function(){
      let openFn=null;const loader=document.getElementById('doai-chatbot-loader');
      function resolve(){const g=window;const c=[g.DOAIChatbot,g.doAIChatbot,g.DOAI,g.doAI].filter(Boolean);for(const ns of c){if(!ns)continue;for(const n of ['open','toggle','show','openChat','openWidget']){try{if(typeof ns[n]==='function')return()=>ns[n]();}catch(e){}} if(ns.widget){for(const n of ['open','toggle','show','openChat']){try{if(typeof ns.widget[n]==='function')return()=>ns.widget[n]();}catch(e){}}}}return null;}
      function ready(){openFn=resolve();}
      ['load','doai:ready','doai-ready'].forEach(ev=>window.addEventListener(ev,ready));
      if(loader) loader.addEventListener('load',ready);
      window.addEventListener('keydown',e=>{ if(e.key==='/' && (e.metaKey||e.ctrlKey)){ if(openFn) try{openFn();}catch(e){} }});
    })();

    // Buy Me a Coffee widget (static inclusion)
    // Replaced lazy loader with direct script tag for clarity / reliability
  </script>
  <!-- BMC widget intentionally omitted on support page (present on all other pages) -->
  <script src="script.js" defer></script>
</body>
</html>
