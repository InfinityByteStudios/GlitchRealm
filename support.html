<!DOCTYPE html>
<html lang="en">
<head>
  <!-- PWA Manifest & Theming -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#00fff9">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="icon" href="assets/Favicon and Icons/favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="assets/Favicon and Icons/favicon.ico" type="image/x-icon" />
  <link rel="icon" type="image/png" href="assets/Favicon and Icons/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="assets/Favicon and Icons/favicon.svg" />
  <link rel="apple-touch-icon" sizes="180x180" href="assets/Favicon and Icons/apple-touch-icon.png" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Support - GlitchRealm</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600&display=swap" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600&display=swap" rel="stylesheet"></noscript>
  <style>
    .support-hero { padding:70px 0 30px; text-align:center; position:relative; }
    .support-hero h1 { font-family:'Orbitron', monospace; font-size:2.4rem; background:linear-gradient(90deg,#00fff9,#008cff); -webkit-background-clip:text; background-clip:text; color:transparent; letter-spacing:2px; }
    .support-grid { display:grid; gap:24px; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); margin:40px 0; }
    .support-card { background:linear-gradient(135deg,#0b1822,#071017); border:1px solid rgba(0,255,249,0.15); padding:18px 20px 22px; border-radius:14px; position:relative; overflow:hidden; }
    .support-card:before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 18% 22%,rgba(0,255,249,0.12),transparent 60%),radial-gradient(circle at 80% 75%,rgba(0,140,255,0.12),transparent 65%); mix-blend-mode:screen; pointer-events:none; }
    .support-card h3 { margin:0 0 8px; font-size:1.05rem; letter-spacing:.6px; color:#00f5ff; }
    .support-card p { margin:0 0 10px; font-size:.9rem; line-height:1.35; color:#c9d8dc; }
  .contact-chip { display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border:1px solid rgba(0,255,249,0.3); border-radius:30px; font-size:.75rem; letter-spacing:.5px; text-transform:uppercase; color:#00fff9; background:rgba(0,255,249,0.08); margin:4px 6px 0 0; font-weight:600; cursor:pointer; text-decoration:none; position:relative; transition:.18s background, .18s border-color, .18s color; }
  .contact-chip:hover, .contact-chip:focus { background:rgba(0,255,249,0.18); border-color:rgba(0,255,249,0.55); outline:none; }
  .help-section-divider { margin:60px 0 30px; height:1px; background:linear-gradient(90deg,rgba(0,255,249,0),rgba(0,255,249,.35),rgba(0,255,249,0)); border:none; }
  .help-top-link { font-size:.65rem; letter-spacing:.5px; text-transform:uppercase; color:#00f5ff; text-decoration:none; display:inline-block; margin-top:14px; opacity:.8; }
  .help-top-link:hover { opacity:1; text-decoration:underline; }
  .issue-detail { padding:22px 24px 26px; border:1px solid rgba(0,255,249,0.18); border-radius:14px; background:linear-gradient(135deg,#07141c,#041017); margin:0 0 26px; position:relative; }
  .issue-detail h3 { margin:0 0 10px; font-size:1.05rem; letter-spacing:.6px; color:#00f5ff; }
  .issue-detail h4 { margin:18px 0 6px; font-size:.85rem; letter-spacing:.5px; color:#fff; text-transform:uppercase; }
  .issue-detail p, .issue-detail li { font-size:.82rem; line-height:1.45; color:#c3d2d6; }
  .issue-detail code { background:rgba(0,255,249,0.1); padding:2px 5px; border-radius:4px; font-size:.75rem; }
  .issue-detail ul { margin:6px 0 0 18px; padding:0; }
  .issue-detail .tag-ref { font-size:.65rem; padding:3px 6px; background:rgba(0,255,249,0.12); border:1px solid rgba(0,255,249,0.3); border-radius:20px; letter-spacing:.5px; margin-left:6px; }
  .issue-target-highlight { box-shadow:0 0 0 2px rgba(0,255,249,0.4), 0 0 14px -2px rgba(0,255,249,0.7); transition: box-shadow 1.8s ease; }
    .support-section { margin:50px 0; }
    .support-section h2 { font-size:1.4rem; letter-spacing:1px; margin:0 0 14px; color:#00f5ff; }
    .faq-item { margin:14px 0; }
    .faq-item h4 { margin:0 0 4px; font-size:.95rem; color:#fff; }
    .faq-item p { margin:0; font-size:.85rem; line-height:1.4; color:#b8c5c9; }
    .bot-note { margin-top:28px; font-size:.8rem; opacity:.75; }
    .bmc-inline-note { font-size:.75rem; opacity:.65; margin-top:6px; }
    /* Support form modal */
    .support-form-modal { position:fixed; inset:0; display:none; z-index:4000; }
    .support-form-modal.visible .support-form-dialog { transform:translateY(0); opacity:1; }
    .support-form-backdrop { position:absolute; inset:0; background:rgba(0,0,0,0.6); backdrop-filter:blur(4px); }
    .support-form-dialog { position:relative; width:100%; max-width:560px; margin:60px auto; background:#0b1822; border:1px solid rgba(0,255,249,0.25); border-radius:16px; padding:28px 30px 30px; box-shadow:0 10px 40px -8px rgba(0,0,0,.55),0 0 0 1px rgba(0,255,249,0.08); transform:translateY(12px); opacity:0; transition:.25s ease; font-size:.9rem; }
    .support-form-close { position:absolute; top:10px; right:12px; background:none; border:none; color:#9fb3b9; font-size:1.6rem; line-height:1; cursor:pointer; padding:4px 8px; }
    .support-form-close:hover { color:#fff; }
    .support-form h3 { margin:0 0 14px; font-size:1.2rem; letter-spacing:.5px; color:#00f5ff; }
    .support-form .sf-field { display:flex; flex-direction:column; margin:0 0 14px; gap:6px; }
    .support-form .sf-field span { font-size:.7rem; letter-spacing:.6px; font-weight:600; text-transform:uppercase; color:#7edcf0; }
    .support-form input, .support-form select, .support-form textarea { background:#08131b; border:1px solid #12313d; border-radius:8px; padding:10px 12px; color:#d7e5e8; font-family:inherit; font-size:.85rem; resize:vertical; }
    .support-form input:focus, .support-form select:focus, .support-form textarea:focus { outline:2px solid #00e3ff; outline-offset:2px; }
    .support-form .sf-actions { display:flex; gap:12px; margin-top:4px; }
    .support-form .sf-note { font-size:.65rem; opacity:.6; margin-top:12px; }
    @media (max-width:620px){ .support-form-dialog { margin:30px 14px; padding:24px 22px 26px; } }
  </style>
  <!-- Unified Firebase core (loads app+auth once, sets local persistence) -->
  <script type="module" src="firebase-core.js"></script>
</head>
<body>
  <div class="background-animation"></div>
  <div id="header-placeholder"></div>
  <main class="main">
    <section class="support-hero">
      <div class="container">
        <h1>Support / Help Center</h1>
        <p style="max-width:620px;margin:14px auto 0; font-size:1rem; color:#d4dde0;">Need help with your account, games, or platform features? Start with our quick resources below or open the live assistant.</p>
      </div>
    </section>

    <section class="container">
      <div class="support-grid">
        <div class="support-card">
          <h3>Account</h3>
          <p>Password resets, email issues, and verification requests.</p>
          <div>
            <a class="contact-chip" href="#help-reset-password">Reset Password</a>
            <a class="contact-chip" href="#help-change-email">Change Email</a>
            <a class="contact-chip" href="#help-verification">Verification</a>
          </div>
        </div>
        <div class="support-card">
          <h3>Games & Platform</h3>
            <p>Game performance, browser issues, and progress tracking help.</p>
          <div>
            <a class="contact-chip" href="#help-playtime">Playtime</a>
            <a class="contact-chip" href="#help-cloud-save">Cloud Save</a>
            <a class="contact-chip" href="#help-performance">Performance</a>
          </div>
        </div>
        <div class="support-card">
          <h3>Developers</h3>
          <p>Submitting games, asset guidelines, and publishing requirements.</p>
          <div>
            <a class="contact-chip" href="#help-submit-game">Submit Game</a>
            <a class="contact-chip" href="#help-branding">Branding</a>
            <a class="contact-chip" href="#help-cover-art">Cover Art</a>
          </div>
        </div>
        <div class="support-card">
          <h3>Contact</h3>
          <p>Reach the team directly for reports, legal, or security matters.</p>
          <div>
            <a class="contact-chip" href="mailto:support@glitchrealm.ca">support@glitchrealm.ca</a>
            <a class="contact-chip" href="mailto:legal@glitchrealm.ca">legal@glitchrealm.ca</a>
            <a class="contact-chip" href="mailto:security@glitchrealm.ca">security@glitchrealm.ca</a>
          </div>
        </div>
      </div>

      <div class="support-section">
        <h2>Quick FAQ</h2>
        <div class="faq-item">
          <h4>How do I verify my account?</h4>
          <p>Go to the User Portal and open the Verification section. Complete the brief form and a team member will review it.</p>
        </div>
        <div class="faq-item">
          <h4>My playtime isn’t syncing.</h4>
          <p>Make sure you are signed in on all tabs. Refresh the game tab and allow a few seconds for sync. If it persists, clear local storage using the test script.</p>
        </div>
        <div class="faq-item">
          <h4>Can I submit a game?</h4>
          <p>Yes—verified creators or approved developers can submit via the Submit Game page. Cover image upload via Supabase is required.</p>
        </div>
        <div class="faq-item">
          <h4>How do I report a bug?</h4>
          <p>Use the in-game report option (if available) or email support with steps to reproduce and your browser version.</p>
        </div>
        <div class="faq-item">
          <h4>Why is the chatbot only here?</h4>
          <p>We load the assistant only on the Support page to reduce tracking surface and improve performance across the rest of the site.</p>
        </div>
        <div class="faq-item">
          <h4>Can I change my display name?</h4>
          <p>Yes. Open the User Portal and use the profile section. Changes may be rate‑limited to prevent abuse.</p>
        </div>
        <div class="faq-item">
          <h4>What browsers are supported?</h4>
          <p>Latest Chrome / Edge / Brave are recommended. Firefox works for most features; Safari may have reduced performance for WebGL titles.</p>
        </div>
        <div class="faq-item">
          <h4>Is my data secure?</h4>
          <p>Authentication and core data use Firebase (Google infrastructure). Game cover uploads use Supabase storage. We never store plaintext passwords.</p>
        </div>
        <div class="faq-item">
            <h4>How do I delete my account?</h4>
            <p>From the User Portal open Settings &gt; Delete Account. This immediately schedules removal of profile + playtime data after a short safety delay.</p>
        </div>
        <div style="margin-top:22px;">
          <button id="open-support-form" type="button" class="btn btn-primary">Contact Support</button>
        </div>
      </div>

      <div class="support-section" id="live-assistant">
        <h2>Live Assistant</h2>
        <p>The GlitchRealm Bot can answer common questions and escalate edge cases.</p>
        <p class="bot-note">Note: Opening the bot loads an external script (DoAI). Only included on this page for performance & privacy elsewhere.</p>
      </div>

      <div class="support-section" id="support-contribute">
        <h2>Support Development</h2>
        <p>Your contributions help keep GlitchRealm online and expanding.</p>
        <div id="bmc-container"></div>
        <p class="bmc-inline-note">Buy Me a Coffee widget loads after page idle to avoid blocking interaction.</p>
      </div>

      <hr class="help-section-divider" />
      <div class="support-section" id="detailed-help">
        <h2>Detailed Help Guides</h2>
        <p style="font-size:.85rem; opacity:.8; max-width:760px">Click any topic chip above or jump to a section below. Each guide lists quick fixes first, then advanced troubleshooting.</p>

        <div id="help-reset-password" class="issue-detail" data-issue="reset-password">
          <h3>Reset Password <span class="tag-ref">ACCOUNT</span></h3>
          <p>If you forgot your password, use <strong>Forgot Password</strong> on the sign-in page. You'll receive an email with a link.</p>
          <h4>Quick Steps</h4>
          <ul>
            <li>Open the sign in page &gt; Forgot Password.</li>
            <li>Enter the email tied to your GlitchRealm account.</li>
            <li>Click the link in the email within 15 minutes.</li>
          </ul>
          <h4>If Email Doesn't Arrive</h4>
            <ul>
              <li>Check spam / promotions folders.</li>
              <li>Make sure you didn't sign up with a different email alias.</li>
              <li>Wait 2–3 minutes; some providers delay new senders.</li>
            </ul>
          <h4>Link Says Expired</h4>
          <p>Request a new reset. Only the most recent link works.</p>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-change-email" class="issue-detail" data-issue="change-email">
          <h3>Change Email <span class="tag-ref">ACCOUNT</span></h3>
          <p>In the User Portal, open <strong>Account Settings</strong> and use the Change Email form. You'll need to re-authenticate for security.</p>
          <h4>Checklist</h4>
          <ul>
            <li>New email isn't already used on another account.</li>
            <li>You are still signed in (token not expired).</li>
            <li>Confirm any verification mail if required.</li>
          </ul>
          <h4>Common Errors</h4>
          <ul>
            <li><code>requires-recent-login</code>: Sign out & sign in again, then retry.</li>
            <li><code>email-already-in-use</code>: That address already exists—use password reset instead.</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-verification" class="issue-detail" data-issue="verification">
          <h3>Verification <span class="tag-ref">ACCOUNT</span></h3>
          <p>Verification unlocks creator / submission features and a badge. Use the Verification form in the User Portal.</p>
          <h4>Tips</h4>
          <ul>
            <li>Add a short description of what you build.</li>
            <li>Provide links (GitHub, itch.io) if available.</li>
            <li>Submissions are usually reviewed within 24–72h.</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-playtime" class="issue-detail" data-issue="playtime">
          <h3>Playtime Not Updating <span class="tag-ref">PLATFORM</span></h3>
          <p>Playtime is tracked client-side and periodically synced to Firestore.</p>
          <h4>Quick Fix</h4>
          <ul>
            <li>Keep the game tab focused at least once every 60s.</li>
            <li>Stay signed in (the tracker pauses if auth token expires).</li>
            <li>Don’t block <code>localStorage</code> or script execution.</li>
          </ul>
          <h4>Advanced Troubleshooting</h4>
          <ul>
            <li>Open DevTools Console; check for Firebase permission errors.</li>
            <li>Clear site data (localStorage key: <code>gr.playtime.*</code>) if corrupt.</li>
            <li>Multiple tabs: only the most active tab should accumulate time.</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-cloud-save" class="issue-detail" data-issue="cloud-save">
          <h3>Cloud Save Issues <span class="tag-ref">PLATFORM</span></h3>
          <p>If a game supports saves, they sync using Firestore or Supabase depending on the title.</p>
          <h4>Fixes</h4>
          <ul>
            <li>Ensure network isn't blocking <code>firestore.googleapis.com</code>.</li>
            <li>Disable aggressive privacy extensions temporarily.</li>
            <li>Confirm you're signed into the same account across devices.</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-performance" class="issue-detail" data-issue="performance">
          <h3>Performance / Low FPS <span class="tag-ref">PLATFORM</span></h3>
          <p>Performance depends on browser GPU acceleration and asset caching.</p>
          <h4>Quick Wins</h4>
          <ul>
            <li>Close other heavy tabs (video streaming, WebGL sites).</li>
            <li>Use Chromium-based browser with hardware acceleration on.</li>
            <li>Disable unnecessary overlays (recorders, extensions).</li>
          </ul>
          <h4>Advanced</h4>
          <ul>
            <li>Open DevTools Performance panel to spot layout thrash.</li>
            <li>Clear cache if assets changed recently (Shift + Reload).</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-submit-game" class="issue-detail" data-issue="submit-game">
          <h3>Submitting a Game <span class="tag-ref">DEVELOPERS</span></h3>
          <p>Use the Submit Game page (requires verified or developer status).</p>
          <h4>Requirements</h4>
          <ul>
            <li>Cover image (PNG/JPG) ≤ 1MB.</li>
            <li>Unique slug (a-z, 0-9, dashes).</li>
            <li>Short + long description (avoid raw HTML script tags).</li>
          </ul>
          <h4>After Submitting</h4>
          <p>Status begins as <code>draft</code> or <code>pending</code> until staffed review.</p>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-branding" class="issue-detail" data-issue="branding">
          <h3>Branding & Assets <span class="tag-ref">DEVELOPERS</span></h3>
          <p>Follow consistent visual identity for listing and badges.</p>
          <h4>Guidelines</h4>
          <ul>
            <li>High contrast logo (transparent PNG).</li>
            <li>No copyrighted third‑party art unless you own rights.</li>
            <li>Keep cover safe-area (avoid vital text near edges).</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>

        <div id="help-cover-art" class="issue-detail" data-issue="cover-art">
          <h3>Cover Art Specs <span class="tag-ref">DEVELOPERS</span></h3>
          <p>Recommended size 1024×576 (16:9). Smaller images are accepted but will be upscaled which can soften detail.</p>
          <p style="font-size:.75rem; opacity:.75; margin-top:6px;">Upload pipeline is currently in <strong>beta</strong> (testing stability + storage quotas). If the direct upload fails or is temporarily disabled, you can still provide a hosted image URL (CDN, GitHub raw, etc.) and it will render normally.</p>
          <h4>Best Practices</h4>
          <ul>
            <li>Keep text large & readable.</li>
            <li>Export at 80–90% quality (optimize size).</li>
            <li>Avoid heavy motion blur – crisp edges compress better.</li>
          </ul>
          <a class="help-top-link" href="#top">Back to top</a>
        </div>
      </div>

    </section>
  </main>
  <div id="footer-placeholder"></div>

  <!-- Static Netlify Support Request Form (hidden modal so Netlify can index it) -->
  <div id="support-form-modal" class="support-form-modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="support-form-title" style="display:none;">
    <div class="support-form-backdrop" data-close></div>
    <div class="support-form-dialog">
      <button class="support-form-close" id="close-support-form" aria-label="Close">&times;</button>
      <h3 id="support-form-title">Submit a Support Request</h3>
      <form name="support-request" method="POST" data-netlify="true" netlify data-netlify-honeypot="bot-field" class="support-form" autocomplete="on" action="thank-you.html">
        <input type="hidden" name="form-name" value="support-request" />
        <p class="sr-only" style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;">
          <label>Don’t fill this out: <input name="bot-field" /></label>
        </p>
        <label class="sf-field">
          <span>Name</span>
          <input required name="name" type="text" maxlength="80" />
        </label>
        <label class="sf-field">
          <span>Email</span>
            <input required name="email" type="email" maxlength="120" />
        </label>
        <label class="sf-field">
          <span>Category</span>
          <select name="category" required>
            <option value="Account">Account</option>
            <option value="Playtime">Playtime</option>
            <option value="Bug">Bug Report</option>
            <option value="Verification">Verification</option>
            <option value="Submission">Game Submission</option>
            <option value="Other">Other</option>
          </select>
        </label>
        <label class="sf-field">
          <span>Subject</span>
          <input required name="subject" type="text" maxlength="140" />
        </label>
        <label class="sf-field">
          <span>Message</span>
          <textarea required name="message" rows="6" maxlength="4000" placeholder="Describe the issue, steps to reproduce, expected vs actual behavior..."></textarea>
        </label>
        <div class="sf-actions">
          <button type="submit" class="btn btn-primary">Send</button>
          <button type="button" class="btn btn-secondary" data-close>Cancel</button>
        </div>
        <p class="sf-note">Files or screenshots? Paste image links (GitHub, Imgur, etc.) into the message body.</p>
      </form>
    </div>
  </div>

  <!-- Chatbot widget only on this page -->
  <script id="doai-chatbot-loader" async
    src="https://kcur57gey4euhzpupakvb43g.agents.do-ai.run/static/chatbot/widget.js"
    data-agent-id="bd55ebc0-7b86-11f0-b074-4e013e2ddde4"
    data-chatbot-id="iLcsXT380jITKSw3t6GQxi14J3z3bc64"
    data-name="GlitchRealm Bot"
    data-primary-color="#00FFF9"
    data-secondary-color="#E5E8ED"
    data-button-background-color="#0A1629"
    data-starting-message="Hello! How can I help you today?"
  data-logo="assets/Favicon and Icons/favicon.ico"></script>
  <script>
    // Support Request Modal open/close (static Netlify form present in DOM)
    (function(){
      const openBtn = document.getElementById('open-support-form');
      const modal = document.getElementById('support-form-modal');
      if(!openBtn || !modal) return;
      let lastFocused = null;
      const dialog = modal.querySelector('.support-form-dialog');
      function trapFocus(){
        lastFocused = document.activeElement;
        const focusables = modal.querySelectorAll('button, [href], input, select, textarea');
        const first = focusables[0]; const last = focusables[focusables.length-1];
        if(first) first.focus();
        function loop(e){ if(e.key==='Tab'){ if(e.shiftKey && document.activeElement===first){ e.preventDefault(); last.focus(); } else if(!e.shiftKey && document.activeElement===last){ e.preventDefault(); first.focus(); } } }
        modal.addEventListener('keydown', loop);
        modal._loop = loop;
      }
      function releaseFocus(){ if(lastFocused) try{ lastFocused.focus(); }catch{} if(modal._loop) modal.removeEventListener('keydown', modal._loop); }
      function open(){ modal.style.display='block'; modal.setAttribute('aria-hidden','false'); setTimeout(()=> modal.classList.add('visible'), 10); trapFocus(); }
      function close(){ modal.classList.remove('visible'); setTimeout(()=>{ modal.style.display='none'; modal.setAttribute('aria-hidden','true'); releaseFocus(); }, 180); }
      openBtn.addEventListener('click', open);
      modal.addEventListener('click', e=>{ if(e.target===modal || e.target.hasAttribute('data-close')) close(); });
      document.getElementById('close-support-form')?.addEventListener('click', close);
      document.addEventListener('keydown', e=>{ if(e.key==='Escape' && modal.classList.contains('visible')) close(); });
    })();
  </script>
  <script>
    // Reusable open helper (trimmed version)
    (function(){
      let openFn=null;const loader=document.getElementById('doai-chatbot-loader');
      function resolve(){const g=window;const c=[g.DOAIChatbot,g.doAIChatbot,g.DOAI,g.doAI].filter(Boolean);for(const ns of c){if(!ns)continue;for(const n of ['open','toggle','show','openChat','openWidget']){try{if(typeof ns[n]==='function')return()=>ns[n]();}catch(e){}} if(ns.widget){for(const n of ['open','toggle','show','openChat']){try{if(typeof ns.widget[n]==='function')return()=>ns.widget[n]();}catch(e){}}}}return null;}
      function ready(){openFn=resolve();}
      ['load','doai:ready','doai-ready'].forEach(ev=>window.addEventListener(ev,ready));
      if(loader) loader.addEventListener('load',ready);
      window.addEventListener('keydown',e=>{ if(e.key==='/' && (e.metaKey||e.ctrlKey)){ if(openFn) try{openFn();}catch(e){} }});
    })();

    // Buy Me a Coffee widget (static inclusion)
    // Replaced lazy loader with direct script tag for clarity / reliability
  </script>
  <!-- BMC widget intentionally omitted on support page (present on all other pages) -->
  <script>
    // Smooth scroll with highlight effect
    (function(){
      function scrollToHash(hash){
        const el = document.getElementById(hash.replace('#',''));
        if(!el) return;
        el.classList.add('issue-target-highlight');
        el.scrollIntoView({behavior:'smooth', block:'start'});
        setTimeout(()=> el.classList.remove('issue-target-highlight'), 1900);
      }
      if(location.hash && location.hash.startsWith('#help-')){
        setTimeout(()=> scrollToHash(location.hash), 120);
      }
      document.querySelectorAll('a.contact-chip[href^="#help-"]').forEach(a=>{
        a.addEventListener('click', e=>{
          e.preventDefault();
          const h = a.getAttribute('href');
          history.replaceState(null,'',h);
          scrollToHash(h);
        });
      });
    })();
  </script>
  <script src="script.js" defer></script>
</body>
</html>
