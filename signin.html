<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GlitchRealm Access - Sign In</title>
    <link rel="icon" href="assets/Favicon and Icons/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="assets/Favicon and Icons/favicon.ico" type="image/x-icon" />
    <link rel="icon" type="image/png" href="assets/Favicon and Icons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="assets/Favicon and Icons/favicon.svg" />
    <link rel="apple-touch-icon" sizes="180x180" href="assets/Favicon and Icons/apple-touch-icon.png" />
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="auth-message.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600&display=swap" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600&display=swap" rel="stylesheet">
    </noscript>
      <!-- Unified Firebase core (loads app+auth once, sets local persistence) -->
    <script type="module" src="firebase-core.js"></script>
      <!-- Firebase SDK (page-specific usage; reuses shared app/auth if present) -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signInWithPopup, GoogleAuthProvider, GithubAuthProvider } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getAnalytics } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js';
        
        const firebaseConfig = {
            apiKey: "AIzaSyCo5hr7ULHLL_0UAAst74g8ePZxkB7OHFQ",
            authDomain: "shared-sign-in.firebaseapp.com",
            projectId: "shared-sign-in",
            storageBucket: "shared-sign-in.appspot.com",
            messagingSenderId: "332039027753",
            appId: "1:332039027753:web:aa7c6877d543bb90363038",
            measurementId: "G-KK5XVVLMVN"
        };
        
        const app = window.firebaseApp || initializeApp(firebaseConfig);
        const auth = window.firebaseAuth || getAuth(app);
        const analytics = getAnalytics(app);
        const provider = new GoogleAuthProvider();
        const githubProvider = new GithubAuthProvider();
        
        // Make Firebase functions available globally
        window.firebaseApp = app;
        window.firebaseAuth = auth;
        window.googleProvider = provider;
        window.githubProvider = githubProvider;
        window.firebaseSignInWithEmailAndPassword = signInWithEmailAndPassword;
        window.firebaseCreateUserWithEmailAndPassword = createUserWithEmailAndPassword;
        window.firebaseSignInWithPopup = signInWithPopup;
        
        // Dispatch a custom event when Firebase is ready
        window.dispatchEvent(new Event('firebaseReady'));
    </script>
</head>
<body>    <div class="background-animation"></div>
      <div class="auth-overlay" style="display: none;">
        <div class="auth-container">
            <div class="auth-header">
                <h2 class="glitch-large" data-text="GLITCHREALM ACCESS">GLITCHREALM ACCESS</h2>
                <p>Sign in to save your progress and compete on leaderboards</p>
            </div>
            
            <!-- Tab Navigation -->
            <div class="auth-tabs">
                <button class="auth-tab active" id="signin-tab" data-tab="signin">SIGN IN</button>
                <button class="auth-tab" id="signup-tab" data-tab="signup">CREATE ACCOUNT</button>
            </div>
            
            <!-- Auth Message -->
            <div id="authMessage" class="auth-message hidden"></div>
            
            <!-- Sign In Form -->
            <form id="signin-form" class="auth-form active">
                <div class="form-group">
                    <input type="email" id="email" placeholder="Email" required>
                </div>
                
                <div class="form-group">
                    <input type="password" id="password" placeholder="Password" required>
                </div>
                
                <button type="submit" class="auth-button primary">
                    SIGN IN
                </button>
                
                <button type="button" class="auth-button secondary forgot-password-btn">
                    FORGOT PASSWORD?
                </button>
            </form>
            
            <!-- Sign Up Form -->
            <form id="signup-form" class="auth-form">
                <div class="form-group">
                    <input type="email" id="signup-email" placeholder="Email" required>
                </div>
                
                <div class="form-group">
                    <input type="password" id="signup-password" placeholder="Password (min 6 characters)" required>
                </div>
                
                <div class="form-group">
                    <input type="password" id="confirm-password" placeholder="Confirm Password" required>
                </div>
                
                <button type="submit" class="auth-button primary">
                    CREATE ACCOUNT
                </button>
            </form>
            
            <!-- Divider -->
            <div class="auth-divider">
                <span>OR</span>
            </div>            <!-- Google Sign In -->
            <button id="google-signin" class="auth-button google">
                <span class="google-icon">üöÄ</span>
                <span id="google-button-text">Sign in with Google</span>
            </button>
            
            <!-- GitHub Sign In -->
            <button id="github-signin" class="auth-button github">
                <span class="github-icon">üê±</span>
                <span id="github-button-text">Sign in with GitHub</span>
            </button>
            
            <!-- Guest Mode -->
            <div class="auth-footer">
                <p class="guest-note">Want to play without an account?</p>
                <button id="continueAsGuestBtn" class="auth-button guest" onclick="window.location.href='index.html'">
                    CONTINUE AS GUEST
                </button>
            </div>        </div>
    </div>    
    <script src="signin.js" defer></script>
    <script src="script.js" defer></script>
    <script defer>
        // Show the modal immediately on the dedicated sign-in page
        document.addEventListener('DOMContentLoaded', function() {
            const authOverlay = document.querySelector('.auth-overlay');
            if (authOverlay) {
                authOverlay.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
        });
    </script>
</body>
<script>(function(){const c={src:'https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js',id:'glitchrealmdevs',desc:'Support me on Buy me a coffee!',msg:'Contribute to the development of GlitchRealm.',color:'#5F7FFF',pos:'Right',x:'18',y:'18'};function i(){if(document.getElementById('bmc-widget-script'))return;const s=document.createElement('script');s.id='bmc-widget-script';s.src=c.src;s.dataset.name='BMC-Widget';s.setAttribute('data-cfasync','false');s.setAttribute('data-id',c.id);s.setAttribute('data-description',c.desc);s.setAttribute('data-message',c.msg);s.setAttribute('data-color',c.color);s.setAttribute('data-position',c.pos);s.setAttribute('data-x_margin',c.x);s.setAttribute('data-y_margin',c.y);document.body.appendChild(s);}if(window.requestIdleCallback)requestIdleCallback(i,{timeout:2500});else window.addEventListener('load',()=>setTimeout(i,600));['pointerdown','keydown','scroll'].forEach(e=>window.addEventListener(e,i,{once:true,passive:true}));})();</script>
</html>
