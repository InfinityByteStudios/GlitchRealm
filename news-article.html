<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>News Article - GlitchRealm</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="assets/Favicon and Icons/favicon.svg">
  <link rel="icon" type="image/png" sizes="96x96" href="assets/Favicon and Icons/favicon-96x96.png">
  <link rel="icon" type="image/x-icon" href="assets/Favicon and Icons/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/Favicon and Icons/apple-touch-icon.png">
  <link rel="manifest" href="assets/Favicon and Icons/site.webmanifest">
  
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="newsletter-embed.css">
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600&display=swap" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600&display=swap" rel="stylesheet"></noscript>
  <style>
    .article-view { max-width:900px; margin:50px auto 120px; }
    .article-view header { margin:0 0 30px; }
    .article-view h1 { font-family:'Orbitron'; font-size:2.2rem; line-height:1.15; letter-spacing:1px; margin:0 0 16px; background:linear-gradient(90deg,#fff,#b8faff); -webkit-background-clip:text; background-clip:text; color:transparent; }
    .article-meta { font-size:.65rem; letter-spacing:.5px; text-transform:uppercase; color:#7edcf0; display:flex; gap:14px; flex-wrap:wrap; }
    .article-cover { border:1px solid rgba(0,255,249,0.22); border-radius:18px; overflow:hidden; margin:0 0 32px; box-shadow:0 8px 40px -10px rgba(0,255,249,0.25); }
    .article-cover img { display:block; width:100%; max-height:460px; object-fit:cover; }
    .article-content { font-size:.95rem; line-height:1.65; color:#cfe2e6; }
    .article-content h2, .article-content h3 { font-family:'Orbitron'; letter-spacing:.8px; margin:34px 0 14px; color:#00f5ff; }
    .article-content pre { background:#08131b; padding:14px 16px; border:1px solid #12313d; font-size:.75rem; overflow:auto; border-radius:10px; }
    .article-content code { background:#08131b; padding:2px 5px; border:1px solid #12313d; border-radius:6px; font-size:.75rem; }
    .article-tags { display:flex; flex-wrap:wrap; gap:8px; margin:34px 0 0; }
    .article-tags span { font-size:.6rem; padding:6px 10px; background:rgba(0,255,249,0.12); border:1px solid rgba(0,255,249,0.25); border-radius:18px; letter-spacing:.5px; color:#00f5ff; text-transform:uppercase; }
    .newsletter-cta { margin:50px 0 0; padding:30px; background:linear-gradient(135deg,#0b1822,#07131b); border:1px solid rgba(0,255,249,0.25); border-radius:16px; text-align:center; }
    .newsletter-cta h3 { font-family:'Orbitron'; font-size:1.3rem; color:#00fff9; margin:0 0 10px; letter-spacing:1px; }
    .newsletter-cta p { color:#b8d4d8; margin:0 0 20px; font-size:.9rem; }
    .newsletter-cta .ml-embedded { max-width:400px; margin:0 auto; }
    .back-link { display:inline-flex; align-items:center; gap:6px; font-size:.65rem; text-transform:uppercase; letter-spacing:.5px; text-decoration:none; color:#00f5ff; margin-bottom:22px; }
    .back-link:hover { text-decoration:underline; }
    .embed-wrapper { margin:30px 0; border:1px solid rgba(0,255,249,0.25); border-radius:16px; overflow:hidden; background:rgba(0,255,249,0.05); }
    .embed-wrapper iframe { width:100%; height:420px; display:block; }
    
    /* Newsletter Button Hover */
    #openNewsletterModal:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,255,249,0.4);
      filter: brightness(1.1);
    }
  </style>
  <script type="module" src="../firebase-core.js"></script>
</head>
<body>
  <div class="background-animation" aria-hidden="true"></div>
  <div id="header-placeholder"></div>
  <main class="main">
    <div class="article-view" id="article-view">
  <a href="/news/index.html" class="back-link">‚Üê Back to News</a>
      <header>
        <h1 id="article-title">Loading...</h1>
        <div class="article-meta" id="article-meta"></div>
      </header>
      <div id="cover-container" class="article-cover" style="display:none;"></div>
      <div id="embed-container" class="embed-wrapper" style="display:none;"></div>
      <article id="article-content" class="article-content"></article>
      <div id="article-tags" class="article-tags"></div>
      
      <!-- Newsletter CTA -->
      <div class="newsletter-cta">
        <h3>Stay Updated</h3>
        <p>Get the latest GlitchRealm news and updates delivered to your inbox.</p>
        
        <h3>Stay Updated</h3>
        <p style="margin:0 0 15px; opacity:.8;">Subscribe to our newsletter for the latest news and updates.</p>
        <button id="openNewsletterModal" style="background:linear-gradient(90deg,#00fff9,#008cff); border:none; border-radius:8px; padding:14px 24px; font-size:.8rem; font-weight:600; letter-spacing:.7px; color:#02141c; cursor:pointer; text-transform:uppercase; width:100%; max-width:300px; margin:0 auto; display:block;">Subscribe to Newsletter</button>
        <p style="margin:15px 0 0; font-size:.7rem; opacity:.7; text-align:center;">Read our <a href="https://glitchrealm.ca/privacy-policy.html" style="color:#00fff9;">Privacy Policy</a></p>
      </div>
    </div>
  </main>

  <!-- Newsletter Modal -->
  <div id="newsletterModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:10000; align-items:center; justify-content:center;">
    <div style="position:relative; max-width:500px; width:90%; max-height:90vh; overflow-y:auto; background:#0a0e1a; border:2px solid #00fff9; border-radius:12px; box-shadow:0 0 40px rgba(0,255,249,0.3); padding:30px 25px;">
      <button id="closeNewsletterModal" style="position:absolute; top:15px; right:15px; background:none; border:none; color:#00fff9; font-size:28px; cursor:pointer; z-index:1; line-height:1; padding:0; width:30px; height:30px; font-weight:300;">&times;</button>
      
      <!-- Newsletter Form -->
      <div style="text-align:center;">
        <h2 style="font-family:Orbitron; color:#00fff9; margin:0 0 10px; font-size:1.8rem; letter-spacing:1px;">Newsletter</h2>
        <p style="color:#b8d4d8; margin:0 0 25px; font-size:0.95rem; line-height:1.5;">Signup for news and special offers!</p>
        
        <form id="modalNewsletterForm" action="https://assets.mailerlite.com/jsonp/1836682/forms/167354636185896415/subscribe" method="post" target="_blank" style="margin-bottom:20px;">
          <div style="margin-bottom:15px;">
            <input type="email" name="fields[email]" placeholder="Enter your email address" required autocomplete="email" style="width:100%; padding:14px 16px; background:#08131b; border:1px solid #12313d; border-radius:8px; color:#d7e5e8; font-size:0.95rem; font-family:Rajdhani; box-sizing:border-box; transition:border-color 0.3s;">
          </div>
          
          <div style="margin-bottom:20px; text-align:left; padding:15px; background:rgba(0,255,249,0.05); border:1px solid rgba(0,255,249,0.15); border-radius:8px;">
            <p style="margin:0 0 10px; color:#b8d4d8; font-size:0.85rem; font-weight:600;">Marketing Permissions</p>
            <label style="display:flex; align-items:flex-start; gap:10px; cursor:pointer; color:#b8d4d8; font-size:0.8rem; line-height:1.4;">
              <input type="checkbox" name="gdpr[]" value="Email" style="margin-top:2px; accent-color:#00fff9;">
              <span>I agree to receive promotional emails about new products, updates, and special offers.</span>
            </label>
          </div>
          
          <button type="submit" style="width:100%; padding:14px 20px; background:linear-gradient(90deg,#00fff9,#008cff); border:none; border-radius:8px; color:#02141c; font-size:0.9rem; font-weight:700; letter-spacing:1px; text-transform:uppercase; cursor:pointer; font-family:Rajdhani; transition:transform 0.2s, box-shadow 0.2s;">Subscribe Now</button>
          
          <input type="hidden" name="ml-submit" value="1">
          <input type="hidden" name="anticsrf" value="true">
        </form>
        
        <p style="color:#7a9599; font-size:0.75rem; line-height:1.5; margin:0;">By subscribing, you acknowledge that your information will be processed in accordance with our <a href="https://glitchrealm.ca/privacy-policy.html" style="color:#00fff9; text-decoration:none;">Privacy Policy</a>. You can unsubscribe at any time.</p>
      </div>
    </div>
  </div>

  <style>
    #modalNewsletterForm input[type="email"]:focus {
      outline:none;
      border-color:#00fff9;
      box-shadow:0 0 8px rgba(0,255,249,0.3);
    }
    #modalNewsletterForm button[type="submit"]:hover {
      transform:translateY(-2px);
      box-shadow:0 4px 15px rgba(0,255,249,0.5);
    }
  </style>

  <script>
    // Newsletter Modal Controls
    const modal = document.getElementById('newsletterModal');
    const openBtn = document.getElementById('openNewsletterModal');
    const closeBtn = document.getElementById('closeNewsletterModal');
    
    openBtn.addEventListener('click', () => {
      modal.style.display = 'flex';
      document.body.style.overflow = 'hidden';
    });
    
    closeBtn.addEventListener('click', () => {
      modal.style.display = 'none';
      document.body.style.overflow = '';
    });
    
    // Close on backdrop click
    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal.style.display = 'none';
        document.body.style.overflow = '';
      }
    });
  </script>

  <div id="footer-placeholder"></div>
  <script type="module" src="article.js"></script>
  <script src="newsletter-handler.js"></script>
  <script src="../script.js" defer></script>
</body>
</html>
